<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Mingjie's Blog</title>
    <description>ひびけ</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Sat, 30 Dec 2017 21:46:24 +0900</pubDate>
    <lastBuildDate>Sat, 30 Dec 2017 21:46:24 +0900</lastBuildDate>
    <generator>Jekyll v3.4.3</generator>
    
      <item>
        <title>OASP笔记 - 7</title>
        <description>&lt;p&gt;恒星表面的主要传能方式是辐射。对流传能在恒星内部以及低温恒星是不可以忽略的，所以最后会稍微涉及到。同时也只有在辐射传能主导的区域内恒星的物理参数才会跟光谱有关系，之后也会有有效温度的例子。这一章我们会建立辐射传能的微分方程，然后讨论几种简单的解。但是除此之外的解都是数值的，需要进行数值积分。我们希望计算出合成光谱，而这个目标的前提就是有恒星光球层内尽可能多的物理参数；第七八九章就是干这个的。&lt;/p&gt;

&lt;h3 id=&quot;辐射转移方程以及它的通解&quot;&gt;辐射转移方程以及它的通解&lt;/h3&gt;

&lt;p&gt;接着&lt;a href=&quot;https://mingjiejian.github.io/2017/12/18/OASP5/&quot;&gt;第五章&lt;/a&gt;最后两条公式，假设辐射沿着&lt;script type=&quot;math/tex&quot;&gt;s&lt;/script&gt;方向传播，那么光强在一个微元上的变化&lt;script type=&quot;math/tex&quot;&gt;dI_\nu&lt;/script&gt;为损失的光加上增加的光：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;dI_\nu = -\kappa_\nu \rho I_\nu ds + j_\nu\rho ds&lt;/script&gt;

&lt;p&gt;首先看到等号后面的两项都有一个&lt;script type=&quot;math/tex&quot;&gt;\rho ds&lt;/script&gt;，同时考虑到如果能把第一项变成&lt;script type=&quot;math/tex&quot;&gt;-I_\nu&lt;/script&gt;那么积分之后就是一个负e指数函数，比较方便，所以定义&lt;strong&gt;光深&lt;/strong&gt;&lt;script type=&quot;math/tex&quot;&gt;d\tau_\nu = \kappa_\nu \rho ds&lt;/script&gt;，得&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} \frac{dI_\nu}{d\tau_\nu} &amp;= -I_\nu + \frac{j_\nu}{\kappa_\nu} \\  &amp;= -I_\nu + S_\nu \end{align} \tag{7.1} %]]&gt;&lt;/script&gt;

&lt;p&gt;“对吧看着很复杂的东西为什么要去管呢？把它搞成另一个变量就好了嘛！”在这样的思想指导下我们把&lt;script type=&quot;math/tex&quot;&gt;\frac{j_\nu}{\kappa_\nu}&lt;/script&gt;叫做&lt;strong&gt;源函数&lt;/strong&gt;&lt;script type=&quot;math/tex&quot;&gt;S_\nu&lt;/script&gt;。当然实际上源函数还是代表着辐射转移方程发射（光强增加）的那一部分，只是为了凑前面光损部分的简单形式它打了个折扣，衡量得是发射与吸收的比；吸收占比越大，就越靠近负e指数下降。&lt;/p&gt;

&lt;p&gt;看着式&lt;script type=&quot;math/tex&quot;&gt;(7.1)&lt;/script&gt;我们很轻易地用膝盖想到了方程的通解应该有这样的形式：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu(\tau_\nu) = fe^{b\tau_\nu} \tag{7.2}&lt;/script&gt;

&lt;p&gt;当然&lt;script type=&quot;math/tex&quot;&gt;f&lt;/script&gt;是个函数。把它丢进&lt;script type=&quot;math/tex&quot;&gt;(7.1)&lt;/script&gt;，得到：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;bI_\nu + e^{b\tau_\nu}\frac{df}{d\tau_\nu} = -I_\nu + S_\nu&lt;/script&gt;

&lt;p&gt;前后一一对应，易得&lt;script type=&quot;math/tex&quot;&gt;b = -1&lt;/script&gt;以及&lt;script type=&quot;math/tex&quot;&gt;f = \int_0^{\tau_\nu} S_\nu e^{t_\nu} dt_\nu + c_0&lt;/script&gt;，所以&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} I_\nu(\tau_\nu) &amp;= e^{-\tau_\nu}\int_0^{\tau_\nu} S_\nu e^{t_\nu} dt_\nu + c_0e^{-\tau_\nu} \\ &amp;= e^{-\tau_\nu}\int_0^{\tau_\nu} S_\nu e^{t_\nu} dt_\nu + I_\nu(0)e^{-\tau_\nu} \end{align} \tag{7.3} %]]&gt;&lt;/script&gt;

&lt;p&gt;&lt;script type=&quot;math/tex&quot;&gt;0&lt;/script&gt;和&lt;script type=&quot;math/tex&quot;&gt;\tau_\nu&lt;/script&gt;取决于从哪开始算以及算到哪。把负e指数丢到积分号里面，有：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu(\tau_\nu) = \int_0^{\tau_\nu} S_\nu e^{-(\tau_\nu-t_\nu)} dt_\nu + I_\nu(0)e^{-\tau_\nu} \tag{7.4}&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP7/rt1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;如上图，这个通解说明辐射传播方向上某一点的光强为起始点的光乘上一个负e指数衰减，加上起始点到观测点之间每一点上发出的光各自乘上负e指数衰减之和；其实挺直白的。到此似乎万事大吉，只要知道源函数表达式加上十来根头发，应该能给出解析解；不想给头发的话让计算机愣算也能给出数值解来。同时回想一下&lt;a href=&quot;https://mingjiejian.github.io/2017/12/18/OASP5/&quot;&gt;第五章&lt;/a&gt;粒子的两种散射情况，我们也能知道最简单的源函数就是平均光强(&lt;script type=&quot;math/tex&quot;&gt;J_\nu&lt;/script&gt;)和黑体辐射函数(&lt;script type=&quot;math/tex&quot;&gt;B_\nu&lt;/script&gt;)。&lt;/p&gt;

&lt;h4 id=&quot;不同形状下的辐射转移方程&quot;&gt;不同形状下的辐射转移方程&lt;/h4&gt;

&lt;p&gt;之前我们只考虑了一条直线上的辐射转移方程。对于星际介质来说这是没问题的，但是恒星是真空中的球形鸡，所以定义沿着恒星半径方向以及视线方向的光深会对解释恒星内部结构以及我们所看到的东西比较方便。用球坐标系,同时因为我们在观测，我们令&lt;script type=&quot;math/tex&quot;&gt;z&lt;/script&gt;方向为视线方向，所以：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{dI_\nu}{\kappa_\nu \rho dz} = -I_\nu + \frac{j_\nu}{\kappa_\nu}&lt;/script&gt;

&lt;p&gt;将&lt;script type=&quot;math/tex&quot;&gt;z&lt;/script&gt;换成球坐标的&lt;script type=&quot;math/tex&quot;&gt;r, \theta&lt;/script&gt;：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{dI}{dz} = \frac{dI}{dr}\frac{dr}{dz} + \frac{dI}{d\theta}\frac{d\theta}{dz} \tag{7.5}&lt;/script&gt;

&lt;p&gt;什么你问&lt;script type=&quot;math/tex&quot;&gt;\phi&lt;/script&gt;哪去了？当然是认为&lt;script type=&quot;math/tex&quot;&gt;\phi&lt;/script&gt;方向光强处处一样啦，简单嘛。从图中可得：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;dr = \cos{\theta} dz&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;rd\theta = -\sin{\theta} dz&lt;/script&gt;

&lt;p&gt;所以，&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{\partial I_\nu}{\partial r} \frac{\cos{\theta}}{\kappa_\nu\rho} - \frac{\partial I_\nu}{\partial \theta} \frac{\sin{\theta}}{\kappa_\nu\rho r} = -I_\nu + S_\nu \tag{7.6}&lt;/script&gt;

&lt;p&gt;对于恒星内部或者大气很厚的恒星（超巨星）来说这就是要解的方程；但是一般的恒星光球层非常薄，所以可以认为光强跟&lt;script type=&quot;math/tex&quot;&gt;\theta&lt;/script&gt;也没有关系（高兴），得出：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{d I_\nu}{d r} \frac{\cos{\theta}}{\kappa_\nu\rho} = -I_\nu + S_\nu&lt;/script&gt;

&lt;p&gt;虽然不知道为什么，但是在这里我们可以定义一个和&lt;script type=&quot;math/tex&quot;&gt;dr&lt;/script&gt;反向的量&lt;script type=&quot;math/tex&quot;&gt;dx = -dr&lt;/script&gt;以及&lt;script type=&quot;math/tex&quot;&gt;d\tau'_\nu = \kappa_\nu\rho dr&lt;/script&gt;，使得这个方程的解为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu(\tau_\nu) = \int_c^{\tau_\nu} S_\nu e^{-(t_\nu-\tau_\nu)\sec{\theta}}\sec{\theta} d\tau'_\nu \tag{7.8}&lt;/script&gt;

&lt;p&gt;就是在&lt;script type=&quot;math/tex&quot;&gt;t_\nu, \tau_\nu&lt;/script&gt;后面加了个&lt;script type=&quot;math/tex&quot;&gt;-\sec{\theta}&lt;/script&gt;同时把常数放进了积分下限而已。这里把原来式子的&lt;script type=&quot;math/tex&quot;&gt;I_\nu(0)e^{-\tau_\nu}&lt;/script&gt;放到了积分号的下限里面是因为之前只有视线方向一个方向，但是现在有了恒星的径向（以及反径向）和视线方向，就有一个夹角的问题：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP7/rt2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;当&lt;script type=&quot;math/tex&quot;&gt;\theta &gt; 90^\circ&lt;/script&gt;的时候是从外往里的方向，反之是从里往外。对于式子&lt;script type=&quot;math/tex&quot;&gt;(7.4)&lt;/script&gt;来说不同的方向只是换一个起始点和矢量而已，但是现在对于恒星光球层内部和外部来说有不同（而且可以确定）的边界条件，所以视线方向向内和向外的光强分别为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} I_\nu^\mathrm{out} &amp;= \int_{\tau_\nu}^\infty S_\nu e^{-(t_\nu-\tau_\nu)\sec{\theta}}\sec{\theta} dt_\nu \\ I_\nu^\mathrm{in} &amp;= -\int_0^{\tau_\nu} S_\nu e^{-(t_\nu-\tau_\nu)\sec{\theta}}\sec{\theta} dt_\nu \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;也就是说方向向外时从光球层最底层开始算，光深为&lt;script type=&quot;math/tex&quot;&gt;\infty&lt;/script&gt;，向内时从恒星表面开始算，光深为&lt;script type=&quot;math/tex&quot;&gt;0&lt;/script&gt;。视线方向上某一点的“总光强”为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} I_\nu(\tau_\nu) &amp;= I_\nu^\mathrm{out} + I_\nu^\mathrm{in} \\ &amp;= \int_{\tau_\nu}^\infty S_\nu e^{-(t_\nu-\tau_\nu)\sec{\theta}}\sec{\theta} dt_\nu -\int_0^{\tau_\nu} S_\nu e^{-(t_\nu-\tau_\nu)\sec{\theta}}\sec{\theta} dt_\nu \end{align} \tag{7.9} %]]&gt;&lt;/script&gt;

&lt;p&gt;所以在观测从恒星表面出射的辐射的时候用的是&lt;script type=&quot;math/tex&quot;&gt;I_\nu^\mathrm{out}(0)&lt;/script&gt;：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu^\mathrm{out}(0) = \int_{\tau_\nu}^\infty S_\nu e^{-t_\nu\sec{\theta}}\sec{\theta} dt_\nu \tag{7.10}&lt;/script&gt;

&lt;p&gt;这条式子会在计算合成光谱的时候用到。&lt;/p&gt;

&lt;h4 id=&quot;光强积分&quot;&gt;光强积分&lt;/h4&gt;

&lt;p&gt;就像&lt;a href=&quot;https://mingjiejian.github.io/2017/12/18/OASP5/&quot;&gt;第五章&lt;/a&gt;说的那样，实际上我们不能分辨出恒星的源面，所以当然要将光强积分成流量了。利用式&lt;script type=&quot;math/tex&quot;&gt;(5.5)&lt;/script&gt;并且认为&lt;script type=&quot;math/tex&quot;&gt;I_\nu&lt;/script&gt;与&lt;script type=&quot;math/tex&quot;&gt;\phi&lt;/script&gt;方向无关，我们得到：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} F_\nu &amp;= 2\pi \int_0^\pi I_\nu \cos{\theta} \sin{\theta} d\theta \\ &amp;= 2\pi \int_0^{\pi/2} I_\nu^\mathrm{out} \cos{\theta} \sin{\theta} d\theta + 2\pi \int_{\pi/2}^\pi I_\nu^\mathrm{in} \cos{\theta} \sin{\theta} d\theta \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;将式&lt;script type=&quot;math/tex&quot;&gt;(7.9)&lt;/script&gt;代入，得：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F_\nu = 2\pi \int_0^{\pi/2}\int_{\tau_\nu}^\infty S_\nu e^{-(t_\nu-\tau_\nu)\sec{\theta}}\sec{\theta} dt_\nu d\theta - 2\pi \int_{\pi/2}^\pi\int_0^{\tau_\nu} S_\nu e^{-(t_\nu-\tau_\nu)\sec{\theta}}\sec{\theta} dt_\nu d\theta&lt;/script&gt;

&lt;p&gt;假设源函数各向同性，有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F_\nu = 2\pi \int_{\tau_\nu}^\infty S_\nu \int_0^{\pi/2} e^{-(t_\nu-\tau_\nu)\sec{\theta}}\sec{\theta} d\theta dt_\nu - 2\pi \int_0^{\tau_\nu} S_\nu \int_{\pi/2}^\pi e^{-(t_\nu-\tau_\nu)\sec{\theta}}\sec{\theta} d\theta dt_\nu \tag{7.11}&lt;/script&gt;

&lt;p&gt;所以之后就看中间的那个&lt;script type=&quot;math/tex&quot;&gt;e&lt;/script&gt;指数积分了。先直接给结论：令&lt;script type=&quot;math/tex&quot;&gt;w = \sec{\theta}, x = t_\nu - \tau_\nu&lt;/script&gt;，则有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\int_0^{\pi/2} e^{-(t_\nu-\tau_\nu)\sec{\theta}}\sec{\theta} d\theta = \int_1^\infty \frac{e^{-xw}}{w^2} dw \tag{7.12}&lt;/script&gt;

&lt;p&gt;为了方便起见将后面的&lt;script type=&quot;math/tex&quot;&gt;e&lt;/script&gt;指数积分叫做&lt;script type=&quot;math/tex&quot;&gt;E_n&lt;/script&gt;:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;E_n(x) = \int_1^\infty \frac{e^{-xw}}{w^n} dw \tag{7.13}&lt;/script&gt;

&lt;p&gt;所以刚刚的流量就是：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F_\nu(\tau_\nu) = 2\pi \int_{\tau_\nu}^\infty S_\nu E_2(t_\nu - \tau_\nu) dt_\nu - 2\pi \int_0^{\tau_\nu} S_\nu E_2(\tau_\nu - t_\nu) dt_\nu \tag{7.14}&lt;/script&gt;

&lt;p&gt;照例在恒星表面变成&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F_\nu(0) = 2\pi \int_{0}^\infty S_\nu(t_\nu) E_2(t_\nu) dt_\nu \tag{7.15}&lt;/script&gt;

&lt;p&gt;举一反三得K积分里面的量&lt;script type=&quot;math/tex&quot;&gt;J_\nu, K_\nu&lt;/script&gt;可以表示为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} J_\nu(\tau_\nu) &amp;= \frac{1}{2} \int_{\tau_\nu}^\infty S_\nu E_1(t_\nu - \tau_\nu) dt_\nu + \frac{1}{2} \int_0^{\tau_\nu} S_\nu E_1(\tau_\nu - t_\nu) dt_\nu \\ K_\nu(\tau_\nu) &amp;= \frac{1}{2} \int_{\tau_\nu}^\infty S_\nu E_3(t_\nu - \tau_\nu) dt_\nu + \frac{1}{2} \int_0^{\tau_\nu} S_\nu E_3(\tau_\nu - t_\nu) dt_\nu \end{align} \tag{7.16} %]]&gt;&lt;/script&gt;

&lt;h4 id=&quot;e指数积分的性质&quot;&gt;e指数积分的性质&lt;/h4&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;E_n(0) = \int_1^\infty \frac{1}{w^n} dw = \frac{1}{n-1}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{dE_n}{dx} = -E_{n-1} \tag{7.19}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;nE_{n+1}(x) = e^{-x} - xE_n(x) \tag{7.20}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;E_n(x) \approx \frac{1}{xe^x}&lt;/script&gt;

&lt;p&gt;大概就是这样。&lt;/p&gt;

&lt;h3 id=&quot;辐射平衡&quot;&gt;辐射平衡&lt;/h3&gt;

&lt;p&gt;实际上辐射平衡指的就是能量守恒。我们认为光球层是不产生能量的，所以光球层处处都不能有源或者汇，吃进去多少就得吐出来多少。我们仍然处于平面平行层的假设之中，所以散度为0的条件可以表述为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{d}{dx}F(x) = 0, F(x) = F_0 \tag{7.21}&lt;/script&gt;

&lt;p&gt;&lt;script type=&quot;math/tex&quot;&gt;x&lt;/script&gt;指的是光球层中的某一点。如果所有能量都是辐射的话，有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F(x) = \int_0^\infty F(\tau_\nu) d\nu = F_0 \tag{7.22}&lt;/script&gt;

&lt;p&gt;这就是辐射平衡条件。如果也有对流的话，则变为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Phi(x) + \int_0^\infty F(\tau_\nu) d\nu = F_0 \tag{7.23}&lt;/script&gt;

&lt;p&gt;还有其他能量源的话，加上去就好了。&lt;/p&gt;

&lt;p&gt;先不管对流，将&lt;script type=&quot;math/tex&quot;&gt;(7.14)&lt;/script&gt;代入&lt;script type=&quot;math/tex&quot;&gt;(7.22)&lt;/script&gt;，有：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\int_0^\infty [\int_{\tau_\nu}^\infty S_\nu E_2(t_\nu - \tau_\nu) dt_\nu - 2\pi \int_0^{\tau_\nu} S_\nu E_2(\tau_\nu - t_\nu) dt_\nu] d_\nu = \frac{F_0}{2\pi} \tag{7.24}&lt;/script&gt;

&lt;p&gt;这叫做Milne第二公式，其他两条Milne公式之后会讨论到。这条公式里面唯一的未知量是&lt;script type=&quot;math/tex&quot;&gt;S_\nu(\tau_\nu)&lt;/script&gt;，也就是说在辐射平衡条件下，符合这条式子的源函数就是我们要找的源函数；把它丢回&lt;script type=&quot;math/tex&quot;&gt;(7.14)&lt;/script&gt;就可以将流量算出来了。&lt;/p&gt;

&lt;p&gt;另外两个Milne公式可以从辐射转移方程推出来：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\cos{\theta} \frac{dI_\nu}{dx} = \kappa_\nu\rho I_\nu - \kappa_\nu\rho S_\nu \tag{7.25}&lt;/script&gt;

&lt;p&gt;对立体角积分并且认为&lt;script type=&quot;math/tex&quot;&gt;\kappa_\nu, S_\nu&lt;/script&gt;与方向无关，有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{dF(x)}{dx} = 4\pi\kappa_\nu\rho J_\nu - 4\pi\kappa_\nu \rho S_\nu \tag{7.26}&lt;/script&gt;

&lt;p&gt;对所有频率积分，并考虑到辐射平衡条件&lt;script type=&quot;math/tex&quot;&gt;(7.21)&lt;/script&gt;，左边等于0，有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\int_0^\infty \kappa_\nu\rho J_\nu d\nu = \int_0^\infty \kappa_\nu\rho S_\nu d\nu \tag{7.28}&lt;/script&gt;

&lt;p&gt;用&lt;script type=&quot;math/tex&quot;&gt;(7.16)&lt;/script&gt;的&lt;script type=&quot;math/tex&quot;&gt;J_\nu&lt;/script&gt;代入，&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\int_0^\infty \kappa_\nu [\frac{1}{2} \int_{\tau_\nu}^\infty S_\nu E_1(t_\nu - \tau_\nu) dt_\nu + \frac{1}{2} \int_0^{\tau_\nu} S_\nu E_1(\tau_\nu - t_\nu) dt_\nu - S_\nu] d\nu = 0&lt;/script&gt;

&lt;p&gt;这也是一条Milne公式（书上没写是第几条…），也是给求&lt;script type=&quot;math/tex&quot;&gt;S_\nu&lt;/script&gt;用的。如果在恒星内部，所有频率上的光深都很大的话，&lt;script type=&quot;math/tex&quot;&gt;\frac{dF(x)}{dx}&lt;/script&gt;就大概为0，所以从&lt;script type=&quot;math/tex&quot;&gt;(7.26)&lt;/script&gt;我们可以认为&lt;script type=&quot;math/tex&quot;&gt;J_\nu = S_\nu&lt;/script&gt;。&lt;/p&gt;

&lt;p&gt;最后一条Milne公式是从&lt;script type=&quot;math/tex&quot;&gt;(7.25)&lt;/script&gt;乘上一个&lt;script type=&quot;math/tex&quot;&gt;\cos{\theta}&lt;/script&gt;来的。乘上之后对方位角和频率积分，最后一项就没了，剩下的是：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\int_0^\infty \frac{dK_\nu}{d\tau_\nu} = \frac{F_0}{4\pi}&lt;/script&gt;

&lt;p&gt;同样将&lt;script type=&quot;math/tex&quot;&gt;K_\nu&lt;/script&gt;代入，有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\int_0^\infty \frac{d}{d\tau_\nu} [\frac{1}{2} \int_{\tau_\nu}^\infty S_\nu E_3(t_\nu - \tau_\nu) dt_\nu + \frac{1}{2} \int_0^{\tau_\nu} S_\nu E_3(\tau_\nu - t_\nu) dt_\nu - S_\nu] d\nu = \frac{F_0}{4\pi}&lt;/script&gt;

&lt;p&gt;实际上这三条Milne公式都是从光强加上辐射平衡条件来的，所以它们并不独立，满足某一条公式的源函数必定满足其他两条。回到遥远的第一章，我们可以看到现在代表着有效温度决定着&lt;script type=&quot;math/tex&quot;&gt;F_0&lt;/script&gt;，所以有效温度实际上是模型的一个重要参数。&lt;/p&gt;

&lt;p&gt;现在既然所有的公式都齐了，剩下的就是确定源函数。这里只讨论一种最简单的情况，灰大气。更复杂的情况留给论文去说。&lt;/p&gt;

&lt;h3 id=&quot;灰大气模型&quot;&gt;灰大气模型&lt;/h3&gt;

&lt;p&gt;灰大气模型确定的源函数值得在这里讨论并不仅仅是因为它是比较早得出的解，还因为它是很多其他源函数迭代的初始函数。灰大气指的是&lt;script type=&quot;math/tex&quot;&gt;\kappa_\nu&lt;/script&gt;与频率无关，当然它不怎么真实(by Quin)。&lt;/p&gt;

&lt;p&gt;从&lt;script type=&quot;math/tex&quot;&gt;(7.7)&lt;/script&gt;开始，将式子对全频率积分，并将积分后的结果写成不带&lt;script type=&quot;math/tex&quot;&gt;\nu&lt;/script&gt;角标的量，有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\cos{\theta} \frac{dI}{d\tau} = I - S&lt;/script&gt;

&lt;p&gt;可以“简单地”理解为把角标拿掉；那么式&lt;script type=&quot;math/tex&quot;&gt;(7.22), (7.28), (7.30)&lt;/script&gt;变成：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} F &amp;= F_0 \\ J &amp;= S \\ \frac{dK}{d\tau} &amp;= \frac{F_0}{4\pi} \end{align} \tag{7.32} %]]&gt;&lt;/script&gt;

&lt;p&gt;在这里爱丁顿老爷子假设入射和出射的光强和方向无关，都是一样的，也就是：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
I(\tau) = \begin{cases} I^\mathrm{out}(\tau) &amp; 0 \le \theta \le \pi/2 \\ I^\mathrm{in}(\tau) &amp; \pi/2 \le \theta \le \pi \end{cases} %]]&gt;&lt;/script&gt;

&lt;p&gt;然后三个K积分就变成了&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} F(\tau) &amp;= \pi[I^\mathrm{out}-I^\mathrm{in}] \\ J(\tau) &amp;= \frac{1}{2}[I^\mathrm{out} + I^\mathrm{in}] \\ K(\tau) &amp;= \frac{1}{6} [I^\mathrm{out} + I^\mathrm{in}] \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;不信？不信自己代进定义里面算去。把它们丢进&lt;script type=&quot;math/tex&quot;&gt;(7.32)&lt;/script&gt;里面，该相等的相等，该积分的积分，得到&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;S(\tau) = J(\tau) = 3K(\tau)&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;K(\tau) = \frac{F_0}{4\pi}\tau + \frac{F_0}{6\pi}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Rightarrow S(\tau) = \frac{3F_0}{4\pi}(\tau+\frac{2}{3})&lt;/script&gt;

&lt;p&gt;热动平衡之下我们还有黑体辐射定律；利用&lt;script type=&quot;math/tex&quot;&gt;(6.4)&lt;/script&gt;，我们可以得出&lt;script type=&quot;math/tex&quot;&gt;S(\tau) = J(\tau) = \sigma/\pi T^4(\tau),&lt;/script&gt;&lt;script type=&quot;math/tex&quot;&gt;F_0 = \sigma T_\mathrm{eff}^4&lt;/script&gt;，所以&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;T(\tau) = [\frac{3}{4}(\tau+\frac{2}{3})]^{1/4} T_\mathrm{eff}&lt;/script&gt;

&lt;p&gt;这样一来每层的温度由有效温度和光深决定，也可以知道了。如果把老爷子的假设去掉，解会从&lt;script type=&quot;math/tex&quot;&gt;\frac{2}{3} \rightarrow q(\tau)&lt;/script&gt;，稍微复杂一点。当然灰大气和实际情况差得比较远，因为大大简化了&lt;script type=&quot;math/tex&quot;&gt;\kappa_\nu&lt;/script&gt;的情况。&lt;/p&gt;

&lt;h3 id=&quot;对流传能&quot;&gt;对流传能&lt;/h3&gt;

&lt;p&gt;这一章快该结束了。中高温恒星的对流层比较深，但是低温恒星的对流层可以延伸到光球层的底部，所以需要考虑对流传能。对流元需要和环境温度有差别（要不然哪有能量传输），而且光深需要比较大（要不然被辐射传能搞没了）。一个对流元所携带的能量为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Phi = \rho C_p v \Delta T&lt;/script&gt;

&lt;p&gt;&lt;script type=&quot;math/tex&quot;&gt;\rho, C_p, v, \Delta T&lt;/script&gt;分别为密度、比热、速度、温度差。这些对流元可上可下、可冷可热。太阳的米粒（儿）组织就是我们可以看到的对流层的顶部，同时对流层传输的能量是辐射传能的&lt;script type=&quot;math/tex&quot;&gt;\sim 10^{-3}&lt;/script&gt;倍，可以忽略掉。但是因为对流带来的速度不均匀会对光球层产生影响（对流超射），使得谱线形状发生变化，带来不对称性，所以可以用这种不对称性来研究恒星的米粒组织（第十七章）。然后对流还会产生一些声学波，将恒星内部的元素带到恒星表面。对流传能虽然能量小，但是速度比辐射传能快，周/月的量级vs&lt;script type=&quot;math/tex&quot;&gt;\sim 10^5&lt;/script&gt;年。&lt;/p&gt;

&lt;h4 id=&quot;对流传能条件&quot;&gt;对流传能条件&lt;/h4&gt;

&lt;p&gt;一团气体能上升主要是因为它的密度比环境要小；但是气体在上升的过程中会膨胀，所以它的密度并不是不变的。当气体密度的导数比环境密度的导数小的时候，气体就可以上升（假设对流元是绝热的）：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;(\frac{d\log{\rho}}{d\log{P}})_\mathrm{cell} &gt; (\frac{d\log{\rho}}{d\log{P}})_\mathrm{average}&lt;/script&gt;

&lt;p&gt;我们比较喜欢用温度来说事，利用理想气体公式&lt;script type=&quot;math/tex&quot;&gt;P = (\rho/\mu)kT&lt;/script&gt;：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;(\frac{d\log{\rho}}{d\log{P}})_\mathrm{average} = 1 + \frac{d\log{\mu}}{d\log{P}} - \frac{d\log{T}}{d\log{P}}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Rightarrow (\frac{d\log{T}}{d\log{P}})_\mathrm{average} &gt; 1 - (\frac{d\log{\rho}}{d\log{P}})_\mathrm{cell} + \frac{d\log{\mu}}{d\log{P}}&lt;/script&gt;

&lt;p&gt;所以想有对流，一是增大左边，也就是温度梯度；温度梯度很大的时候恒星甚至会膨胀或者收缩。二是右边很小，也就是&lt;script type=&quot;math/tex&quot;&gt;(\frac{d\log{\rho}}{d\log{P}})_\mathrm{cell}&lt;/script&gt;比较大。这说明当恒星温度比较低，质量比较大的分子可以存在的时候对流比较容易产生；另一种增大它的方法是在对流元内部有辐射。&lt;/p&gt;

&lt;h4 id=&quot;混合长&quot;&gt;混合长&lt;/h4&gt;

&lt;p&gt;解决了对流发生的条件之后我们来看看对流传能的最后两项。从能量守恒有&lt;script type=&quot;math/tex&quot;&gt;\frac{1}{2}\rho v^2 = g\Delta\rho l&lt;/script&gt;，其中&lt;script type=&quot;math/tex&quot;&gt;l&lt;/script&gt;是对流元存活的长度，也就是混合长。压强平衡要求&lt;script type=&quot;math/tex&quot;&gt;\Delta \rho / \rho = \Delta T / T&lt;/script&gt;，所以&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} \Phi &amp;= \rho C_p (\frac{gl}{T})^{1/2} \Delta T^{3/2} \\ &amp;= \rho C_p (\frac{gl}{T})^{1/2} [(\frac{dT}{dx})_\mathrm{cell} - (\frac{dT}{dx})_\mathrm{average}]^{3/2} \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;混合长的具体数值是任意，没有理论支撑的；它在恒星内部有一些经验取值，但是光球层上没有。&lt;/p&gt;

&lt;p&gt;恒星的对流比较复杂，一些更准确的计算需要看相关论文。&lt;/p&gt;
</description>
        <pubDate>Wed, 27 Dec 2017 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2017/12/27/OASP7/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/12/27/OASP7/</guid>
        
        <category>learning</category>
        
        
      </item>
    
      <item>
        <title>OASP笔记 - 6</title>
        <description>&lt;p&gt;无聊的一章。请自行谷歌黑体辐射。&lt;/p&gt;

&lt;h3 id=&quot;可公开的信息&quot;&gt;可公开的信息&lt;/h3&gt;

&lt;p&gt;韦恩定律（高频）：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu = \nu^3f(\nu/T) \tag{6.1}&lt;/script&gt;

&lt;p&gt;瑞利金斯近似（低频/长波）：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu = \frac{2kT\nu^2}{c^2} = \frac{2kT}{\lambda^2} \tag{6.6}&lt;/script&gt;

&lt;h3 id=&quot;推导&quot;&gt;“推导”&lt;/h3&gt;

&lt;p&gt;前提：只有两个能级 + 处于热动平衡&lt;/p&gt;

&lt;p&gt;第一章的原子激发与电离里面有这样的一个公式：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{N_n}{N_m} = \frac{g_n}{g_m} e^{-\frac{h\nu}{kT}}&lt;/script&gt;

&lt;p&gt;从第五章最后的两个公式得出细致平衡原理：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;N_u A_{ul} + N_u B_{ul} I_\nu = N_l B_{lu} I_\nu&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu = \frac{A_{ul}}{B_{lu}(N_l/N_u) - B_{ul}}&lt;/script&gt;

&lt;p&gt;合在一起就有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu = \frac{A_{ul}}{(g_l/g_u)B_{lu}e^{-\frac{h\nu}{kT}} - B_{ul}}&lt;/script&gt;

&lt;p&gt;将&lt;script type=&quot;math/tex&quot;&gt;e&lt;/script&gt;指数展开&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu \approx \frac{A_{ul}}{(g_l/g_u)B_{lu} + (g_l/g_u)B_{lu}\frac{h\nu}{kT} - B_{ul}}&lt;/script&gt;

&lt;p&gt;令它等于瑞利金斯近似，得&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;B_{ul} = B_{lu}g_l/g_u, A_{ul} = \frac{2h\nu^3}{c^2}B_{ul}&lt;/script&gt;

&lt;p&gt;所以&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu = B_\nu = \frac{2h\nu^3}{c^2} \frac{1}{e^{-\frac{h\nu}{kT}}-1}&lt;/script&gt;

&lt;p&gt;求导等于0可以得出韦恩位移定律，对频率积分可以得出斯特芬玻尔兹曼定律：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\lambda T = b, F_\nu = \oint I_\nu \cos{\theta} d\omega = \sigma T^4&lt;/script&gt;

&lt;p&gt;之前有一个疑惑就是物质的发射或者吸收是怎么从稀薄的谱线到一大块的黑体谱的，&lt;a href=&quot;https://physics.stackexchange.com/questions/105875/blackbody-radiation-and-spectral-lines&quot;&gt;这里&lt;/a&gt;有一个思路。&lt;/p&gt;

&lt;p&gt;再联络。&lt;/p&gt;
</description>
        <pubDate>Tue, 19 Dec 2017 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2017/12/19/OASP6/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/12/19/OASP6/</guid>
        
        <category>learning</category>
        
        
      </item>
    
      <item>
        <title>OASP笔记 - 5</title>
        <description>&lt;h3 id=&quot;辐射强度-specific-intensity&quot;&gt;辐射强度 (specific intensity)&lt;/h3&gt;

&lt;p&gt;辐射强度描述的是穿过一个表面的光的强度分布，是辐射场的性质，跟接下来用到的面元的性质无关。这个量当然需要是在单位时间、单位频率下的；同时这个表面处在不同位置也会不一样，所以要将表面缩小成面元。我们先将面元固定在一个点上，看如何描述光的强度分布。&lt;/p&gt;

&lt;p&gt;我们只能通过单位时间、单位频率下穿过单位面积面元的能量大小来描述光的强度。但是面元是有朝向的，一个只朝一个方向的辐射场和面元的法向量平行的时候会产生最大的通量；如果将辐射场（或者面元）旋转一个角度，除了方向外辐射场没有任何其他的变化，不过通量就小了。然而辐射强度是辐射场的性质，和面元的方向无关，所以除了&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}A\mathrm{d}t\mathrm{d}\nu&lt;/script&gt;需要和描述辐射场强度（其实就是辐射强度）的量相乘之外，我们还需要一个表示方向的立体角源和表示方向与面元法向夹角的余弦值将（可能倾斜的）面元“摆正”，去导出正确的能量。所以能量和辐射强度有这样的关系：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\mathrm{d}E_\nu = I_\nu cos{\theta} \mathrm{d}\omega\mathrm{d}A\mathrm{d}t\mathrm{d}\nu&lt;/script&gt;

&lt;p&gt;也得到了辐射强度的表达式：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu = \frac{\mathrm{d}E_\nu}{cos{\theta}\mathrm{d}\omega\mathrm{d}A\mathrm{d}t\mathrm{d}\nu} \tag{5.1}&lt;/script&gt;

&lt;p&gt;它表达的是单位时间(&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}t&lt;/script&gt;)单位频率(&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}\nu&lt;/script&gt;)下穿过某一点(&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}A&lt;/script&gt;)朝某个方向(&lt;script type=&quot;math/tex&quot;&gt;cos{\theta}\mathrm{d}\omega&lt;/script&gt;)的光的能量。当然我们也可以用波长去表达，而从上式我们可以推出&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I_\nu\mathrm{d}\nu = I_\lambda\mathrm{d}\lambda  \tag{5.2}&lt;/script&gt;

&lt;p&gt;它们的单位分别是&lt;script type=&quot;math/tex&quot;&gt;\mathrm{erg / (s~cm^2~rad^2~Hz)}, \mathrm{W / (m^2~rad^2~Hz)}&lt;/script&gt;和&lt;script type=&quot;math/tex&quot;&gt;\mathrm{erg / (s~cm^2~rad^2~Å)}, \mathrm{W / (m^2~rad^2~Å)}&lt;/script&gt;。这条式子，加上熟悉的频率-波长关系&lt;script type=&quot;math/tex&quot;&gt;\lambda\nu = c&lt;/script&gt;，我们会发现同一个物体&lt;script type=&quot;math/tex&quot;&gt;I_\nu&lt;/script&gt;和&lt;script type=&quot;math/tex&quot;&gt;I_\lambda&lt;/script&gt;的形状是不一样的。这是因为&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}\nu = -\frac{c}{\lambda^2}\mathrm{d}\lambda \Rightarrow -\frac{c}{\lambda^2}I_\nu = I_\lambda&lt;/script&gt;（负号表示波长和频率变化方向相反），所以即使不同波长下的辐射强度一样，翻译到频率下会变成一条曲线。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://soap.siteturbine.com/uploaded_files/www.oceanopticsbook.info/images/WebBook/2048a65071bc4c0a0e2402ba5bc51157.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;频域和波长域下太阳的辐射强度，可以看到形状改变了。取自&lt;a href=&quot;http://www.oceanopticsbook.info/view/light_and_radiometry/level_2/a_common_misconception&quot;&gt;这里&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;我们也可以定义平均辐射强度，为辐射强度在所有方向上的平均：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;J_\nu = \frac{1}{4\pi} \oint I_\nu \mathrm{d}\omega  \tag{5.3}&lt;/script&gt;

&lt;h3 id=&quot;流量&quot;&gt;流量&lt;/h3&gt;

&lt;p&gt;比起辐射强度，流量可能更容易理解一点。流量就是通过一个面的所有能量之和；一个方向为正的话，另一个方向就为负；或者说流量就是一个面对所有方向辐射强度的积分。从这两个表述里面我们可以得到流量的两个定义式：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F_\nu = \frac{\oint \mathrm{d}E_\nu}{\mathrm{d}A\mathrm{d}t\mathrm{d}\nu} = \oint I_\nu \cos{\theta} \mathrm{d}\omega  \tag{5.4}&lt;/script&gt;

&lt;p&gt;显然当辐射场各向同性的时候，流量为零（进出一样）；所以也可以说流量是衡量辐射场非各向同性程度的一个量。&lt;/p&gt;

&lt;p&gt;假设我们讨论的点在恒星的表面上，将流量的辐射强度积分拆成两个半球，一个在恒星内部，一个在外部，我们可以得到&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} F_\nu &amp; = \int_0^{2\pi}\mathrm{d}\phi\int_0^\pi I_\nu\sin{\theta}\cos{\theta}\mathrm{d}\theta \\ &amp; = \int_0^{2\pi}\mathrm{d}\phi (\int_0^\frac{2}{\pi} I_\nu\sin{\theta}\cos{\theta}\mathrm{d}\theta + \int_\frac{2}{\pi}^\pi I_\nu\sin{\theta}\cos{\theta}\mathrm{d}\theta) \\ &amp; = F_\nu^\mathrm{out} + F_\nu^\mathrm{in} \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;实际上就是向里的和向外的之和。对于恒星来说，一般是没有向内的辐射的；同时如果在&lt;script type=&quot;math/tex&quot;&gt;\phi&lt;/script&gt;方向各向同性的话，上式可以简化为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F_\nu  = 2\pi\int_0^\frac{2}{\pi} I_\nu\sin{\theta}\cos{\theta}\mathrm{d}\theta  \tag{5.6}&lt;/script&gt;

&lt;p&gt;再简化一下，如果向外的辐射在各个&lt;script type=&quot;math/tex&quot;&gt;\theta&lt;/script&gt;方向都相等的话，那么&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F_\nu = \pi I_\nu  \tag{5.7}&lt;/script&gt;

&lt;p&gt;对恒星来说这样的简化是可以接受的。&lt;/p&gt;

&lt;p&gt;辐射强度是一个辐射场的内禀量，所以不应该随着距离而变化；而流量遵循平方反比律。这里的不同之处在于辐射强度的定义式中有一个&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}\omega&lt;/script&gt;，但流量里面没有。这也说明了只有当我们明确知道观测的源的&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}\omega&lt;/script&gt;有多大，也就是能分辨清楚源面的时候，我们才能测量辐射强度；否则我们测量的只能是流量。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP5/if.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;图中左侧是天空中的一个均匀的延展源，右侧是它的像。假设我们现在讨论通过中间透镜的辐射强度和流量，而&lt;script type=&quot;math/tex&quot;&gt;A_S&lt;/script&gt;所张的立体角刚好可以看作一个面元。这那么根据定义，包含在&lt;script type=&quot;math/tex&quot;&gt;A_S&lt;/script&gt;这个圆锥中的能量就是在透镜这一点上、&lt;script type=&quot;math/tex&quot;&gt;A_S&lt;/script&gt;方向的辐射强度。如果我们改变这个源的距离，因为这个圆锥（立体角大小）不变，虽然源距离我们远了，每个点发出的光少了，但是有更多的面积进入了&lt;script type=&quot;math/tex&quot;&gt;A_S&lt;/script&gt;中，所以接收到的能量是不变的。当整个源的面积小于等于&lt;script type=&quot;math/tex&quot;&gt;A_S&lt;/script&gt;的时候，我们就不能分辨源的面了，所以此时测量到的就变成了流量，遵循平方反比定律。&lt;/p&gt;

&lt;h3 id=&quot;k积分&quot;&gt;K积分&lt;/h3&gt;

&lt;p&gt;到现在为止我们从辐射强度中引出了两个值，平均辐射强度和流量：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} J_\nu &amp; = \frac{1}{4\pi} \oint I_\nu \mathrm{d}\omega \\ F_\nu &amp; = \oint I_\nu \cos{\theta} \mathrm{d}\omega \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;如果在积分号里面再加一个&lt;script type=&quot;math/tex&quot;&gt;\cos{\theta}&lt;/script&gt;，也可以定义出一个有物理意义的量：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;K_\nu = \frac{1}{4\pi} \oint I_\nu \cos^2{\theta} \mathrm{d}\omega  \tag{5.8}&lt;/script&gt;

&lt;p&gt;它跟辐射压有关。&lt;/p&gt;

&lt;p&gt;光子的动量为&lt;script type=&quot;math/tex&quot;&gt;P = \frac{E}{c}&lt;/script&gt;，则单位时间单位面积内穿过某个面的总动量就是辐射压：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\mathrm{d}P_\nu = \frac{\mathrm{d}E_\nu}{c} \frac{\cos{\theta}}{\mathrm{d}t\mathrm{d}A}&lt;/script&gt;

&lt;p&gt;用辐射强度代入，有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\mathrm{d}P_\nu = \frac{I_\nu}{c} \cos^2{\theta} \mathrm{d}\nu\mathrm{d}\omega&lt;/script&gt;

&lt;p&gt;对立体角和频率积分一下，就有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;P_R = \frac{1}{c} \int_0^\infty\oint I_\nu \cos^2{\theta} \mathrm{d}\omega\mathrm{d}\nu = \frac{4\pi}{c} \int_0^\infty K_\nu \mathrm{d}\nu  \tag{5.9}&lt;/script&gt;

&lt;p&gt;如果各向同性的话，&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;P_R = \frac{4\pi}{3c} \int_0^\infty I_\nu \mathrm{d}\nu \tag{5.10}&lt;/script&gt;

&lt;p&gt;而第六章会讨论温度的一个定义方式：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\pi\int_0^\infty I_\nu \mathrm{d}\nu = \sigma T^4&lt;/script&gt;

&lt;p&gt;故有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;P_R = \frac{4\sigma}{3c}T^4 \tag{5.11}&lt;/script&gt;

&lt;p&gt;所以高温恒星的辐射压是很强的；同时太阳等低温恒星辐射压可以被忽略。&lt;/p&gt;

&lt;h3 id=&quot;辐射能量密度&quot;&gt;辐射能量密度&lt;/h3&gt;

&lt;p&gt;在继续之前我们稍微再从不同的角度理解一下辐射强度。辐射强度可以被理解为单位时间单位频率内往某个方向的能量对某个面元的平均，也就是这个“摆正了的”面元单位时间单位频率内的单位面积上有多少正前方的能量穿过。所以辐射强度某种程度上来说是辐射能量面密度。&lt;/p&gt;

&lt;p&gt;那么有了面密度，能不能有体密度呢？当然是可以的，我们仿照辐射强度把&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}A&lt;/script&gt;写成&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}V&lt;/script&gt;就行了（记得带上&lt;script type=&quot;math/tex&quot;&gt;\cos{\theta}&lt;/script&gt;）。但是注意到我们在讨论光，光肯定以光速运动，所以面元在空间中相对光扫过的体积和面积的关系为&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}V = c\mathrm{d}A&lt;/script&gt;，也就是说&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;u_\nu = \frac{I_\nu}{c}&lt;/script&gt;

&lt;p&gt;体积的数值肯定比面积大，所以同样的光分摊到了一个更大的数字上，密度就小了。&lt;/p&gt;

&lt;h3 id=&quot;吸收系数和光深&quot;&gt;吸收系数和光深&lt;/h3&gt;

&lt;p&gt;光穿过介质时候的衰减遵循以下规律：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\mathrm{d}I_\nu = -\kappa_\nu\rho I_\nu \mathrm{d}x \tag{5.12}&lt;/script&gt;

&lt;p&gt;&lt;script type=&quot;math/tex&quot;&gt;\rho&lt;/script&gt;是单位体积的质量密度，&lt;script type=&quot;math/tex&quot;&gt;\mathrm{d}x&lt;/script&gt;是长度，所以&lt;script type=&quot;math/tex&quot;&gt;\kappa_\nu&lt;/script&gt;是单位质量上的面积(&lt;script type=&quot;math/tex&quot;&gt;\mathrm{\frac{cm^2}{g}}&lt;/script&gt;)，也就是吸收截面。&lt;/p&gt;

&lt;p&gt;&lt;script type=&quot;math/tex&quot;&gt;\kappa_\nu&lt;/script&gt;反映的是物质本身的性质；实际上这个值有两个方面，一个是真正的吸收，另一个是物质对光的散射。所以这个吸收系数实际上是消光系数。&lt;/p&gt;

&lt;p&gt;在没有介质发射的情况下我们可以装作化简地把式子写得简单一点，利用&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} \tau_\nu &amp; = \int_0^L \kappa_\nu \rho \mathrm{d}x \Rightarrow \\ \mathrm{d}I_\nu &amp; = -I_\nu\mathrm{d}\tau_\nu \Rightarrow \\ I_\nu &amp; = I_\nu^0 \exp{-\tau_\nu} \end{align} \tag{5.13} %]]&gt;&lt;/script&gt;

&lt;p&gt;这是最简单的消光规律。&lt;/p&gt;

&lt;h3 id=&quot;发射系数和源函数&quot;&gt;发射系数和源函数&lt;/h3&gt;

&lt;p&gt;对发射系数的定义和吸收系数非常类似，只是没有了负号：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\mathrm{d}I_\nu = j_\nu \rho \mathrm{d}x \tag{5.14}&lt;/script&gt;

&lt;p&gt;&lt;script type=&quot;math/tex&quot;&gt;j_\nu&lt;/script&gt;的单位是&lt;script type=&quot;math/tex&quot;&gt;\mathrm{\frac{erg}{s~rad^2~Hz~g}}&lt;/script&gt;。发射系数同样包含真正的发射和散射到我们考虑的方向上的光。&lt;/p&gt;

&lt;p&gt;如果我们把发射系数和吸收系数相除，我们会发现这个商的单位和辐射强度是一样的；所以我们可以把这个商当作一个新的“辐射强度”，并定义为源函数：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;S_\nu = \frac{j_\nu}{\kappa_\nu} \tag{5.15}&lt;/script&gt;

&lt;p&gt;源函数的表征了光线在穿过介质的时候被介质替换掉的比例。它在之后的辐射转移中很有用。但是源函数的计算是比较复杂的，这里只考虑两个最极端的例子，纯各向同性散射以及纯吸收。&lt;/p&gt;

&lt;h5 id=&quot;纯各向同性散射&quot;&gt;纯各向同性散射&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP5/pis.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;如上图，介质中的粒子在接收到来自某个方向的光(&lt;script type=&quot;math/tex&quot;&gt;I_\nu \mathrm{d}\omega&lt;/script&gt;)之后会将其中一部分(&lt;script type=&quot;math/tex&quot;&gt;\kappa_\nu&lt;/script&gt;)散射掉，而且是均匀地散射到&lt;script type=&quot;math/tex&quot;&gt;4\pi&lt;/script&gt;立体角中。所以对于某个方向上单位立体角的观测者来说只能接收到&lt;script type=&quot;math/tex&quot;&gt;1/4\pi&lt;/script&gt;的光，即&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\mathrm{d}j_\nu = \frac{1}{4\pi}\kappa_\nu I_\nu \mathrm{d}\omega&lt;/script&gt;

&lt;p&gt;对不同方向求积分，有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;j_\nu = \frac{1}{4\pi} \oint\kappa_\nu I_\nu \mathrm{d}\omega&lt;/script&gt;

&lt;p&gt;一般来说&lt;script type=&quot;math/tex&quot;&gt;\kappa_\nu&lt;/script&gt;和方向没有关系，所以&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;S_\nu = \frac{j_\nu}{\kappa_\nu} = \frac{1}{4\pi} \oint I_\nu \mathrm{d}\omega = J_\nu&lt;/script&gt;

&lt;p&gt;此时粒子“发射”的辐射强度是入射光的平均辐射强度，源函数只取决于辐射场，和粒子本身无关。&lt;/p&gt;

&lt;h5 id=&quot;纯吸收&quot;&gt;纯吸收&lt;/h5&gt;

&lt;p&gt;纯吸收并不意味着粒子就不发光了；只不过之前的散射是只改变光的方向，现在粒子吸收全部的光然后再发出自己的光。一般来说我们讨论粒子到达了热动平衡之后的状态，那么此时的源函数就是黑体辐射函数&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;S_\nu = B_\nu = \frac{2h\nu^3}{c^2} \frac{1}{e^{h\nu/kT}-1} \tag{5.16}&lt;/script&gt;

&lt;p&gt;此时粒子作为&lt;strong&gt;黑体&lt;/strong&gt;发光。&lt;/p&gt;

&lt;h3 id=&quot;爱因斯坦系数&quot;&gt;爱因斯坦系数&lt;/h3&gt;

&lt;p&gt;我们将自发辐射归入辐射，受激辐射（负吸收）和受激吸收归到吸收里面，并分别用&lt;script type=&quot;math/tex&quot;&gt;A, B&lt;/script&gt;表示它们的爱因斯坦系数，&lt;script type=&quot;math/tex&quot;&gt;l, u&lt;/script&gt;表示低、高能级，则有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} j_\nu\rho &amp; = N_uA_{ul}h\nu \\ \kappa_\nu\rho I_\nu &amp; = N_l B_{lu}I_\nu h\nu - N_uB_{ul}I_\nu h\nu \end{align} \tag{5.17} %]]&gt;&lt;/script&gt;
</description>
        <pubDate>Mon, 18 Dec 2017 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2017/12/18/OASP5/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/12/18/OASP5/</guid>
        
        <category>learning</category>
        
        
      </item>
    
      <item>
        <title>OASP笔记 - 4</title>
        <description>&lt;p&gt;这一章讲的是有关光电探测器的东西。从观测的角度来说，知道光电探测器的一些参数是很有必要的，比如说在仪器选择和之后的数据处理上。光电探测器分为两大类，积分的（常见的硅CCD）和脉冲计数的（光电倍增管）。积分类型的适合获取高信噪比图像，脉冲计数的信噪比稍低一点。当然除了探测器本身之外，我们还需要有很多其他的电子器件，来控制开关、记录时间、进行模数转换等。&lt;/p&gt;

&lt;h3 id=&quot;量子效率和光谱响应&quot;&gt;量子效率和光谱响应&lt;/h3&gt;

&lt;p&gt;量子效率定义为探测到的光子数和入射的光子数的比值，即&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;q(\lambda) = \frac{\mathrm{探测到的光子数}}{\mathrm{入射的光子数}}&lt;/script&gt;

&lt;p&gt;这个量当然越大越好，因为我们不想损失任何一个光子。同时比值的分子和分母都是波长&lt;script type=&quot;math/tex&quot;&gt;\lambda&lt;/script&gt;的函数，所以量子效率作为波长的函数也可以被称为光谱响应；这个量也是越宽越好。&lt;/p&gt;

&lt;p&gt;另一种量子效率的定义方式是从能量/电荷的角度去定义。我们可以用普朗克关系将入射光子数转化成能量：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;J = N \frac{hc}{\lambda}&lt;/script&gt;

&lt;p&gt;同时将探测到的光子数转化为电荷量：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;Q = q'(\lambda)eN&lt;/script&gt;

&lt;p&gt;那么量子效率就变成了&lt;script type=&quot;math/tex&quot;&gt;J&lt;/script&gt;和&lt;script type=&quot;math/tex&quot;&gt;Q&lt;/script&gt;的比：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;r = \frac{Q}{J} = \frac{e\lambda}{hc}q'(\lambda) = 8.066\times 10^{-5}\lambda q'(\lambda)&lt;/script&gt;

&lt;p&gt;一般来说硅探测器有很高的量子效率和比较宽的光谱响应。&lt;/p&gt;

&lt;h3 id=&quot;线性响应&quot;&gt;线性响应&lt;/h3&gt;

&lt;p&gt;除了“横向”的光谱响应以外，“纵向”的线性响应也是一个重要的参数。线性响应指的是输出的电子数量和入射的光子数量成正比的区间。在线性响应区间内，不考虑其他的误差时，探测到的谱线形状是不变的。但是如果离开了线性响应区间，就会使误差增大同时要做适当的改正。线性响应的区域和探测器用到的原理以及之后对电子的处理有关。&lt;/p&gt;

&lt;h3 id=&quot;硅二极管阵具体过程&quot;&gt;硅二极管阵（具体过程）&lt;/h3&gt;

&lt;p&gt;充电之后的硅二极管阵就像一个个小电容，光子在转化成电子之后被存储在每个单元中，通过方波信号控制读取或者移动。自扫描阵列(self scanning array)是1维的阵列，但是现在用的比较多的CCD是2维的阵列。（读出方式请回忆自己的理解）电子在不同像素中移动的时候会有损失，留下来的比例比较高(0.99950-0.999999)，但是架不住CCD太大。CCD在拍摄光谱的时候会将光谱在垂直色散方向的致宽求和；至于是在读出之前求和还是读出之后求和就看天体的亮度：是太暗所以先求和减少读出误差还是太亮所以后求和防止饱和。像素合并也可以提高读出速度。&lt;/p&gt;

&lt;p&gt;信号在离开探测器之后后被各种处理，放大、数字化、积分等等。重要的是最好在离开探测器之后马上进行放大，以防止后续操作带来的误差也被放大了。最后一步的数字化要求进行模数转换(Analog-to-digital, A/D conversion)，所以转换出来的数值的单位叫做ADU(A/D Unit)。ADU和光子数之间的关系可以通过放大器和探测器的性质得出。&lt;/p&gt;

&lt;p&gt;探测器不同像素之间的不一致大概在百分之几左右，可以用平场解决。为了减少误差平场的信噪比应当比亮帧的高几倍。但是对于靠近光谱响应边缘的光来说，因为探测器开始变得透明，望远镜结构和探测器本身会带来一些额外的像，这是平场所不能解决的，但是对于可见光来说问题不大。&lt;/p&gt;

&lt;h3 id=&quot;本底和宇宙线&quot;&gt;本底和宇宙线&lt;/h3&gt;

&lt;p&gt;所有的照片都是有本底的，即使没有打开镜头盖。这些电子的产生主要是因为热运动，所以冷却是一个减少热噪声的好办法。除了冷却之外，有些探测器还需要真空，防止因为温度梯度太大导致的结霜或者结露。足够低的温度可以将热噪声降低到可被忽略的水平，但是冷却也会影响探测器的光谱响应，如当温度降低100度时，红端的响应会降到1/10。所以宽光谱响应的探测器需要把温度浮动保持在1度以下。&lt;/p&gt;

&lt;p&gt;除此之外有的探测器还有一些偶尔出现的固定图样，如果每次的图样都一致的话也可以通过偏置减掉。宇宙线也会在照片中留下亮斑；只要像素合并不是很多的话比较容易被认出来。&lt;/p&gt;

&lt;h3 id=&quot;噪声&quot;&gt;噪声&lt;/h3&gt;

&lt;p&gt;噪声主要来自三个方面：星光本身的光子噪声、天光的光子噪声和仪器噪声。第一和第二种噪声是比较稳定而且容易计算的，所以它们的和提供了理论的噪声最小值。&lt;/p&gt;

&lt;p&gt;光子噪声遵从玻色-爱因斯坦统计：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta N = N^{1/2}(1 + \frac{1}{e^{\frac{h\nu}{kT}}-1})&lt;/script&gt;

&lt;p&gt;当&lt;script type=&quot;math/tex&quot;&gt;h\nu \ll kT&lt;/script&gt;的时候，上式可以简化为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta N = N^{1/2}&lt;/script&gt;

&lt;p&gt;假设仪器噪声也符合玻色-爱因斯坦统计，我们可以得出信噪比和探测到的光子数的关系。令&lt;script type=&quot;math/tex&quot;&gt;N&lt;/script&gt;为探测到的光子总数、&lt;script type=&quot;math/tex&quot;&gt;L&lt;/script&gt;为探测到的来自天体的光子总数、&lt;script type=&quot;math/tex&quot;&gt;B&lt;/script&gt;为来自所有其他源的光子总数，则根据光子守恒以及误差传递公式，有：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;L = N - B&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta L = (\Delta N^2 + \Delta B^2)^{1/2}&lt;/script&gt;

&lt;p&gt;将简化的玻色-爱因斯坦统计公式代入，有：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta L = (N + B)^{1/2}&lt;/script&gt;

&lt;p&gt;此时信噪比为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;s/n = L / \Delta L = \frac{L}{(L + 2B)^{1/2}}&lt;/script&gt;

&lt;p&gt;当来自其他源的光子数很小，即&lt;script type=&quot;math/tex&quot;&gt;B \ll L&lt;/script&gt;时，&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;s/n \approx L^{1/2}&lt;/script&gt;

&lt;p&gt;信噪比正比于根号下恒星光子数。比如&lt;script type=&quot;math/tex&quot;&gt;10^4&lt;/script&gt;个光子对应100的信噪比，即1%的误差。而当&lt;script type=&quot;math/tex&quot;&gt;B \gg L&lt;/script&gt;的时候，式子变为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;s/n = \frac{L}{(2B)^{1/2}}&lt;/script&gt;

&lt;p&gt;此时应尽量增大&lt;script type=&quot;math/tex&quot;&gt;L&lt;/script&gt;（增大口径、提高量子效率等），或减少&lt;script type=&quot;math/tex&quot;&gt;B&lt;/script&gt;。这个时候增大&lt;script type=&quot;math/tex&quot;&gt;L&lt;/script&gt;对信噪比的提高比&lt;script type=&quot;math/tex&quot;&gt;B \ll L&lt;/script&gt;时要快（正比）。&lt;/p&gt;

&lt;p&gt;当然在所有情况下，获得同样信噪比需要的时间是和天体的亮度有关的。&lt;/p&gt;

&lt;h3 id=&quot;探测器的选择&quot;&gt;探测器的选择&lt;/h3&gt;

&lt;p&gt;之前推出来的公式只是和探测到的光子数而不是天体入射的光子数有关，不利于实际计算，所以需要再作推广。&lt;/p&gt;

&lt;p&gt;令&lt;script type=&quot;math/tex&quot;&gt;l&lt;/script&gt;为恒星入射的光子数，则有&lt;script type=&quot;math/tex&quot;&gt;L = q(\lambda)l&lt;/script&gt;；同时假设天光的光子噪声相对仪器噪声可忽略（光谱情况下），仪器噪声为&lt;script type=&quot;math/tex&quot;&gt;r&lt;/script&gt;，则信噪比表达式为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;s/n = \frac{q(\lambda)l}{(q(\lambda)l + r^2)^{1/2}}&lt;/script&gt;

&lt;p&gt;从上式可以看出信噪比只和量子效率、入射光子数和读出噪声有关，而量子效率和读出噪声都可以测量。不同的&lt;script type=&quot;math/tex&quot;&gt;q, l, r&lt;/script&gt;值下的信噪比曲线如下图所示：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP4/fig4.4.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;入射光子数和信噪比的图&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;显然当入射光子数大时，应选用量子效率高的探测器；而小时，应选用读出噪声小的。&lt;/p&gt;

&lt;h3 id=&quot;阱深和动态范围&quot;&gt;阱深和动态范围&lt;/h3&gt;

&lt;p&gt;一个像素点可以容纳的电量成为它的阱深。当势阱被填满了之后，这个像素将不能继续探测光子。所以当天体的光子噪声主导时，从理论上来说，势阱可容纳的最大光子数的平方根就是可以获得的最大信噪比。但是实际上达不到，因为逼近势阱的顶部的时候会出现其他问题；如果想提高信噪比就需要多次曝光并叠加。&lt;/p&gt;

&lt;p&gt;探测器本身的读出噪声加上可容纳的最大电量可以描述探测器的动态范围，也就是可以探测到的光子数量范围。比如读出噪声是400个电子，势阱可以容纳&lt;script type=&quot;math/tex&quot;&gt;1.2 \times 10^7&lt;/script&gt;个电子，那么动态范围为&lt;script type=&quot;math/tex&quot;&gt;\frac{1.2 \times 10^7}{400} = 3 \times 10^4&lt;/script&gt;。&lt;/p&gt;

&lt;h3 id=&quot;噪声的测量&quot;&gt;噪声的测量&lt;/h3&gt;

&lt;p&gt;作为主要对科学感兴趣的阵营，我们有的时候对总体的噪声水平感兴趣，而不是具体的噪声来源。一个简单而又直接的方法就是测拍摄多幅暗场，统计每个像素的ADU分布；分布的宽度就是噪声、平均值就是偏置。&lt;/p&gt;

&lt;p&gt;有的时候我们想知道测得的噪声ADU值对应多少光子；这时需要利用信噪比表达式将&lt;script type=&quot;math/tex&quot;&gt;s/n, L_{\mathrm{ADU}}, u_0&lt;/script&gt;（模数转换的常数，&lt;script type=&quot;math/tex&quot;&gt;\mathrm{photons/ADU}&lt;/script&gt;）&lt;script type=&quot;math/tex&quot;&gt;, r_{\mathrm{ADU}}&lt;/script&gt;联系起来：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;s/n = \frac{u_0 L_\mathrm{ADU}}{(u_0 L_\mathrm{ADU} + u_0^2 r_\mathrm{ADU}^2)^{1/2}} \\ = \frac{L_\mathrm{ADU}}{(\frac{ L_\mathrm{ADU}}{u_0} + r_\mathrm{ADU}^2)^{1/2}}&lt;/script&gt;

&lt;p&gt;利用暗场的起伏可以测出&lt;script type=&quot;math/tex&quot;&gt;r_\mathrm{ADU}&lt;/script&gt;，已知光度的灯平场以及起伏可以测出&lt;script type=&quot;math/tex&quot;&gt;s/n&lt;/script&gt;以及&lt;script type=&quot;math/tex&quot;&gt;L_\mathrm{ADU}&lt;/script&gt;，即可算出此时的&lt;script type=&quot;math/tex&quot;&gt;u_0&lt;/script&gt;，&lt;script type=&quot;math/tex&quot;&gt;u_0 r_\mathrm{ADU}&lt;/script&gt;即为噪声对应的光子数。&lt;/p&gt;

&lt;h3 id=&quot;空间分辨率&quot;&gt;空间分辨率&lt;/h3&gt;

&lt;p&gt;空间分辨率是指可以将两个源分开的最小角距离。从频域的角度理解，因为像素阵列有大小，所以傅里叶变换之后频率大于奈奎斯特频率的信号会被盖掉，丢失了高频的信号。但是探测器单独的空间分辨率并不足以描述数据的轮廓；整体的谱线轮廓会在第12章讨论。&lt;/p&gt;

&lt;h3 id=&quot;略过的内容&quot;&gt;略过的内容&lt;/h3&gt;

&lt;p&gt;光电倍增管、照相底片&lt;/p&gt;
</description>
        <pubDate>Mon, 18 Dec 2017 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2017/12/18/OASP4/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/12/18/OASP4/</guid>
        
        <category>learning</category>
        
        
      </item>
    
      <item>
        <title>OASP笔记 - 3</title>
        <description>&lt;p&gt;我们需要光谱仪，没有光谱仪哪来的光谱。低分辨率光谱仪可以得到天体的连续谱（第十章），而高分辨率的光谱仪可以得到天体的谱线（第十二章）。&lt;/p&gt;

&lt;h3 id=&quot;概述&quot;&gt;概述&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP3/3.1.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;光谱仪示意图&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;从望远镜中过来的光在狭缝的中心聚焦，然后被准直器变为平行光照到光栅上面，色散后经过改正镜再被聚焦到CCD上。单色光会在焦面上形成一条线；而因为一般狭缝的宽度都比较大，最终在焦面形成的线宽基本不受光栅衍射条纹的影响。而当复色光入射到光谱仪的时候，焦面上将形成一段连续谱。连续谱中每个颜色的“纯净”程度由&lt;script type=&quot;math/tex&quot;&gt;\Delta \lambda&lt;/script&gt;决定。&lt;script type=&quot;math/tex&quot;&gt;\Delta \lambda&lt;/script&gt;越小，色散程度越大，天文学家们越高兴。不过色散程度也需要和天体入射的光的总量协调，因为色散程度越大每个像素的光流量越小，需要的积分时间就越长。一般来说我们需要&lt;script type=&quot;math/tex&quot;&gt;\Delta \lambda&lt;/script&gt;小于我们关心的光谱结构；第十二章有定量计算。&lt;/p&gt;

&lt;h3 id=&quot;衍射光栅及其原理&quot;&gt;衍射光栅及其原理&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP3/3.2.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;衍射光栅示意图&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;令&lt;script type=&quot;math/tex&quot;&gt;P(0)&lt;/script&gt;所指示的点为相位0点，则在光栅上任一点和它的相位差为&lt;script type=&quot;math/tex&quot;&gt;x \sin{\alpha}&lt;/script&gt;；&lt;script type=&quot;math/tex&quot;&gt;\alpha&lt;/script&gt;为入射平面光法向与光栅法向的夹角，是一个定值。所以我们可以将在光栅上的入射光表达为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F(x, t) = F_0(t)e^{2\pi i\frac{x\sin{\alpha}}{\lambda}} \tag{3.1}&lt;/script&gt;

&lt;p&gt;同时因为入射光的频率很大，积分时间一般又比较长，所以可以将&lt;script type=&quot;math/tex&quot;&gt;F_0(t)&lt;/script&gt;用它的平均值&lt;script type=&quot;math/tex&quot;&gt;F_0&lt;/script&gt;代替。&lt;/p&gt;

&lt;p&gt;令&lt;script type=&quot;math/tex&quot;&gt;G(x)&lt;/script&gt;为光栅，&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
G(x) = \begin{cases} 1 &amp; \mathrm{狭缝中}\\ 0　&amp; \mathrm{狭缝外} \end{cases} %]]&gt;&lt;/script&gt;

&lt;p&gt;在&lt;script type=&quot;math/tex&quot;&gt;\beta&lt;/script&gt;角上看到的光强为&lt;script type=&quot;math/tex&quot;&gt;F(x, t)&lt;/script&gt;与&lt;script type=&quot;math/tex&quot;&gt;G(x)&lt;/script&gt;的乘积加上离开光栅后的相位差在&lt;script type=&quot;math/tex&quot;&gt;x&lt;/script&gt;上的积分：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} g(\beta) &amp; = \int^{\infty}_{-\infty} F(x, t) e^{2\pi i\frac{x\sin{\beta}}{\lambda}} G(x) dx \\ &amp; = F_0\int^{\infty}_{-\infty} G(x) e^{2\pi i\frac{x\sin{\alpha}+x\sin{\beta}}{\lambda}} dx \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;令&lt;script type=&quot;math/tex&quot;&gt;\theta = \frac{\theta'}{\lambda} = \frac{\sin{\alpha} + \sin{\beta}}{\lambda}&lt;/script&gt;，有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;g(\theta) = F_0 \int^{\infty}_{-\infty} G(x) e^{2\pi ix\theta} dx \tag{3.2}&lt;/script&gt;

&lt;p&gt;将这个式子与&lt;a href=&quot;https://mingjiejian.github.io/2017/11/11/OASP2/&quot;&gt;第二章&lt;/a&gt;的傅里叶变换定义式比较，我们发现它们是一样的，所以光栅就相当于一个傅里叶变换器。因为这里&lt;script type=&quot;math/tex&quot;&gt;F_0&lt;/script&gt;是一个常数，重要的是后面的积分，所以之后我们将直接讨论&lt;script type=&quot;math/tex&quot;&gt;G(x)&lt;/script&gt;的傅里叶变换。&lt;/p&gt;

&lt;h4 id=&quot;gx的傅里叶变换&quot;&gt;&lt;script type=&quot;math/tex&quot;&gt;G(x)&lt;/script&gt;的傅里叶变换&lt;/h4&gt;

&lt;p&gt;&lt;script type=&quot;math/tex&quot;&gt;G(x)&lt;/script&gt;是由宽为&lt;script type=&quot;math/tex&quot;&gt;b&lt;/script&gt;的狭缝等距&lt;script type=&quot;math/tex&quot;&gt;d&lt;/script&gt;摆放直至充满宽度&lt;script type=&quot;math/tex&quot;&gt;W&lt;/script&gt;而来的：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;G(x) = B_1(x) * III(x) B_2(x) \tag{3.3}&lt;/script&gt;

&lt;p&gt;&lt;script type=&quot;math/tex&quot;&gt;B_1(x)&lt;/script&gt;为单个狭缝，它与&lt;script type=&quot;math/tex&quot;&gt;III(x)&lt;/script&gt;的卷积为无限宽的光栅，&lt;script type=&quot;math/tex&quot;&gt;B_2(x)&lt;/script&gt;为光栅的宽度。它的傅里叶变换为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align}  g(\theta) &amp;= b_1(\theta) iii(\theta) * b_2(\theta) \\  &amp; = \frac{b\sin{\pi\theta b}}{\pi\theta b} iii(\theta) * \frac{W\sin{\pi\theta W}}{\pi\theta W} \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;将Shah函数用&lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;函数表达：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} g(\theta) &amp; = \sum \delta(\theta-\frac{n}{d}) * \frac{W\sin{\pi\theta W}}{\pi\theta W} \frac{b\sin{\pi\theta b}}{\pi\theta b} \\ &amp; = \sum_n \frac{W\sin{\pi(\theta-\frac{n}{d}) W}}{\pi(\theta-\frac{n}{d}) W} \frac{b\sin{\pi\theta b}}{\pi\theta b}  \end{align} \tag{3.4} %]]&gt;&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP3/grating.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;光栅以及它的傅里叶变换&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;在小角度下&lt;script type=&quot;math/tex&quot;&gt;d\theta'&lt;/script&gt;和&lt;script type=&quot;math/tex&quot;&gt;d\beta&lt;/script&gt;近似是一样的：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\sin{\alpha} + \sin{\beta} = \theta' \Rightarrow d\theta' = \cos{\beta} d\beta \approx d\beta&lt;/script&gt;

&lt;p&gt;每个尖峰下降到0时的宽度由&lt;script type=&quot;math/tex&quot;&gt;B_2(x)&lt;/script&gt;决定：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta \theta' = \frac{\lambda}{W}&lt;/script&gt;

&lt;p&gt;每个尖峰的位置由&lt;script type=&quot;math/tex&quot;&gt;III(x)&lt;/script&gt;决定：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\theta' = \frac{n\lambda}{d} = \sin{\alpha} + \sin{\beta} \tag{3.5}&lt;/script&gt;

&lt;p&gt;所以不同波长的光有不同的宽度和尖峰位置。这里的&lt;script type=&quot;math/tex&quot;&gt;n&lt;/script&gt;称为级数，0级光谱所有波长的光都集中在&lt;script type=&quot;math/tex&quot;&gt;x=0&lt;/script&gt;处，所以为白光。1级和其他级光谱的分辨率为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{d\theta'}{d\lambda} = \frac{n}{d} \tag{3.6}&lt;/script&gt;

&lt;p&gt;将&lt;script type=&quot;math/tex&quot;&gt;\Delta \theta' = \frac{\lambda}{W}&lt;/script&gt;代入&lt;script type=&quot;math/tex&quot;&gt;(3.6)&lt;/script&gt;，得：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta \lambda = \frac{\lambda}{W} \frac{d}{n} \tag{3.7}&lt;/script&gt;

&lt;p&gt;这个量可以理解为单位角度上的波长改变量是多少；我们当然希望它越小越好，所以&lt;script type=&quot;math/tex&quot;&gt;n&lt;/script&gt;小的时候要增大板宽和多刻线；&lt;script type=&quot;math/tex&quot;&gt;n&lt;/script&gt;大的时候则不一定。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP3/chrome_I.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;复色光入射时的情况&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;闪耀光栅&quot;&gt;闪耀光栅&lt;/h3&gt;

&lt;p&gt;上图中我们可以看到透射光栅的光谱受到狭缝宽度影响，主要的能量落在了0级处，并没有分开。我们自然不希望这样，而是想让多数的光落在我们想要的级数上。要做到这一点，我们只需要将&lt;script type=&quot;math/tex&quot;&gt;b_2(\theta)&lt;/script&gt;的最高点从0移动到对应的级数位置即可。第二章傅里叶变换的性质2表明如果想在某个域上平移函数，需要在另一个域上引入相位差，在这里也就是不同的光程。实际的操作可以在狭缝中插入三棱镜让光线偏转，但是棱镜会带来色散，而且这样的光栅也很难制作。所以常用的是将狭缝改成倾斜的面镜，从而将光反射到某个特定角度。这样的光栅叫闪耀光栅，光栅法线与槽面法线之间的夹角&lt;script type=&quot;math/tex&quot;&gt;\phi&lt;/script&gt;叫闪耀角(在法线同侧的角度正负号相同)。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP3/3.3.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;闪耀光栅（右）示意图&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;这个时候式子&lt;script type=&quot;math/tex&quot;&gt;(3.4)&lt;/script&gt;的最后一项发生了变化，&lt;script type=&quot;math/tex&quot;&gt;\alpha, \beta&lt;/script&gt;变成了&lt;script type=&quot;math/tex&quot;&gt;\alpha-\phi, \beta-\phi&lt;/script&gt;。这里用减号的原因是虽然对于槽面来说，图示的&lt;script type=&quot;math/tex&quot;&gt;\phi&lt;/script&gt;角会使得入射角和反射角都增大，但是&lt;script type=&quot;math/tex&quot;&gt;(3.4)&lt;/script&gt;中的&lt;script type=&quot;math/tex&quot;&gt;\alpha, \beta&lt;/script&gt;指的是箭头所指的线段长度，这两段线在反射光栅的情况下都减小了。所以对于归一化的这一项，我们有：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I(\beta) = \left[\frac{\sin{\left\{ \pi b/\lambda [\sin{(\alpha-\phi)}+\sin{(\beta-\phi)}]\right\}}}{\pi b/\lambda [\sin{(\alpha-\phi)}+\sin{(\beta-\phi)}]}\right]^2 \tag{3.8}&lt;/script&gt;

&lt;p&gt;因为光栅的分光，只有符合&lt;script type=&quot;math/tex&quot;&gt;(3.5)&lt;/script&gt;的波长的光才能通过，所以我们可以将&lt;script type=&quot;math/tex&quot;&gt;(3.5)&lt;/script&gt;代入&lt;script type=&quot;math/tex&quot;&gt;(3.8)&lt;/script&gt;消去&lt;script type=&quot;math/tex&quot;&gt;\lambda&lt;/script&gt;（注意&lt;script type=&quot;math/tex&quot;&gt;(3.5)&lt;/script&gt;中的&lt;script type=&quot;math/tex&quot;&gt;\alpha, \beta&lt;/script&gt;不变），得到：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;I(\beta) = \left[\frac{\sin{\left\{ n\pi b/d [\cos{\phi}-\sin{\phi}\frac{\cos{\alpha}+\cos{\beta}}{\sin{\alpha}+\sin{\beta}}]\right\}}}{n\pi b/d [\cos{\phi}-\sin{\phi}\frac{\cos{\alpha}+\cos{\beta}}{\sin{\alpha}+\sin{\beta}}]}\right]^2 \tag{3.8}&lt;/script&gt;

&lt;p&gt;示例图如下：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP3/blazed_I.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;闪耀光栅的光强包络线，&lt;script type=&quot;math/tex&quot;&gt;\phi=15^\circ&lt;/script&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;可以看到这个时候整个函数的最大值被推到了&lt;script type=&quot;math/tex&quot;&gt;\alpha+\beta = 2\phi&lt;/script&gt;的地方。当然我们也可以用&lt;script type=&quot;math/tex&quot;&gt;\lambda&lt;/script&gt;作为自变量，画出&lt;script type=&quot;math/tex&quot;&gt;I(\beta)&lt;/script&gt;随&lt;script type=&quot;math/tex&quot;&gt;\lambda&lt;/script&gt;的变化情况。&lt;/p&gt;

&lt;h4 id=&quot;利特罗条件&quot;&gt;利特罗条件&lt;/h4&gt;

&lt;p&gt;一般来说光栅在制造的时候会被造成当入射角和衍射角一样的时候，1级光谱会被闪耀，这被叫做利特罗条件。但是当入射光线和衍射光线在同一个方向的时候，我们并不能接收到光谱，所以一般使用的是别的入射角；这种情况下1级光谱的闪耀波长会发生变化。假设利特罗条件下的闪耀波长为&lt;script type=&quot;math/tex&quot;&gt;\lambda_0&lt;/script&gt;，则根据&lt;script type=&quot;math/tex&quot;&gt;(3.5)&lt;/script&gt;有：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{n\lambda}{d} = \sin{\alpha} + \sin{\beta}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} \frac{n\lambda_0}{d} &amp;= 2\sin{\phi} \\ &amp;= 2\sin{\alpha+\beta} \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;两式相除，得：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\lambda = \lambda_0 \cos{0.5(\alpha-\beta)}&lt;/script&gt;

&lt;h4 id=&quot;阴影&quot;&gt;阴影&lt;/h4&gt;

&lt;p&gt;光栅的摆放方式有很多种。我们之前讨论的都是入射光线和光栅法线在槽面法线的两侧；当然也可以倒过来摆，将入射光线和光栅法线放在槽面法线的同一侧(&lt;script type=&quot;math/tex&quot;&gt;% &lt;![CDATA[
\alpha &lt; \beta %]]&gt;&lt;/script&gt;的时候)。不过这样的话会引起一部分的光在反射后照射到槽的侧面，引起光损和杂散光。光损比例由下式决定：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;f=\frac{2\tan{\phi}\tan{\beta-\phi}}{1+\tan{\phi}\tan{\beta-\phi}}&lt;/script&gt;

&lt;h4 id=&quot;如果光谱仪有缺陷&quot;&gt;如果光谱仪有缺陷&lt;/h4&gt;

&lt;p&gt;首先有周期性缺陷的光谱仪一般会产生鬼线。这样的光谱仪相当于两个光谱仪的叠加：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;G'(x) = G(x)H(x)&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;H(x) = B_3(x) * III(x) B_2(x)&lt;/script&gt;

&lt;p&gt;所以“缺陷光谱仪”会在原来的谱线周围再加上一堆鬼线。如果周期性缺陷相对于原来的光谱的间隔很大，那么鬼线会在母线（原来的谱线）附近。我们可以仿照&lt;script type=&quot;math/tex&quot;&gt;(3.5)&lt;/script&gt;并且代入&lt;script type=&quot;math/tex&quot;&gt;(3.6)&lt;/script&gt;写出鬼线的&lt;script type=&quot;math/tex&quot;&gt;\Delta \lambda&lt;/script&gt;：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta \theta_g = \frac{m\lambda_g}{D}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta \lambda_g = \frac{d}{n}\frac{m}{D}\lambda_g&lt;/script&gt;

&lt;p&gt;所以鬼线是等距分布的。鬼线的光强比较复杂，但是一般母线的强度最大。&lt;/p&gt;

&lt;p&gt;还有另外的几种因缺陷引起的线，如卫星线（有一块刻歪了）等。&lt;/p&gt;

&lt;h3 id=&quot;色散和分辨率&quot;&gt;色散和分辨率&lt;/h3&gt;

&lt;p&gt;分辨率是光谱仪很重要的一个参数。但是在讨论分辨率之前我们需要分清楚它和色散的区别。&lt;/p&gt;

&lt;h4 id=&quot;角线色散&quot;&gt;角、线色散&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP3/3.4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;如上图，如果两束不同波长的光射入镜头的角度为&lt;script type=&quot;math/tex&quot;&gt;\Delta \beta&lt;/script&gt;，则称它们的角色散为&lt;script type=&quot;math/tex&quot;&gt;\Delta \beta&lt;/script&gt;。角色散的大小是由光栅决定的，具体来说是&lt;script type=&quot;math/tex&quot;&gt;(3.6)&lt;/script&gt;式。这个角度最终在焦平面上投影的长度叫做线色散，易得：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta x = f_\mathrm{cam} \Delta \beta&lt;/script&gt;

&lt;p&gt;或者&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{d\beta}{dx} = \frac{1}{f_\mathrm{cam}}&lt;/script&gt;

&lt;p&gt;将角度转化成波长，有：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} \frac{d\lambda}{dx} &amp;= \frac{d\lambda}{d\beta} \frac{d\beta}{dx} \\ &amp;= \frac{1}{f_\mathrm{cam}} \frac{1}{d\beta/d\lambda} \\ &amp;= \frac{1}{f_\mathrm{cam}} \frac{d\cos{\beta}}{n} \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;这里没有小角度入射的假设，所以有一个&lt;script type=&quot;math/tex&quot;&gt;\cos{\beta}&lt;/script&gt;在。同样，高的色散程度对应着小的&lt;script type=&quot;math/tex&quot;&gt;\frac{d\lambda}{dx}&lt;/script&gt;。&lt;/p&gt;

&lt;h4 id=&quot;分辨率&quot;&gt;分辨率&lt;/h4&gt;

&lt;p&gt;我们从狭缝的大小开始考虑。令&lt;script type=&quot;math/tex&quot;&gt;f_\mathrm{coll}, f_\mathrm{cam}&lt;/script&gt;为准直器、成像相机的焦距，在小角度情况下，宽度为&lt;script type=&quot;math/tex&quot;&gt;W'&lt;/script&gt;的狭缝在准直器（或者光栅）上的角度为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta \alpha = \frac{W'}{f_\mathrm{coll}}&lt;/script&gt;

&lt;p&gt;对&lt;script type=&quot;math/tex&quot;&gt;(3.5)&lt;/script&gt;式求导，得出：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta\beta = -\frac{\cos{\alpha}}{\cos{\beta}} \Delta \alpha&lt;/script&gt;

&lt;p&gt;所以&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta \beta = -\frac{\cos{\alpha}W'}{\cos{\beta}f_\mathrm{coll}}&lt;/script&gt;

&lt;p&gt;令&lt;script type=&quot;math/tex&quot;&gt;w&lt;/script&gt;为狭缝在CCD上的像宽，则&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} w &amp;= \Delta \beta f_\mathrm{cam} \\ &amp;= -\frac{\cos{\alpha}}{\cos{\beta}} \frac{f_\mathrm{cam}}{f_\mathrm{coll}} W' \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;&lt;script type=&quot;math/tex&quot;&gt;{w/W'}&lt;/script&gt;正比于&lt;script type=&quot;math/tex&quot;&gt;f_\mathrm{cam}/f_\mathrm{coll}&lt;/script&gt;。一般来说我们需要CCD的像素与狭缝在CCD上的像宽相匹配，最好是1个单位像宽对应CCD上的两个像素（奈奎斯特频率）。稍微的过采样可能会有好处，但是面临着更长时间曝光和深度减小的问题；而欠采样会使得信息丢失。&lt;/p&gt;

&lt;p&gt;我们也可以将像宽&lt;script type=&quot;math/tex&quot;&gt;w&lt;/script&gt;转换成单位长度上的波长改变量（分辨率）：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} \Delta \lambda &amp;= w \frac{d\lambda}{dx} \\ &amp;= -\frac{\cos{\alpha}}{\cos{\beta}} \frac{f_\mathrm{cam}}{f_\mathrm{coll}} W' \frac{1}{f_\mathrm{cam}} \frac{d\cos{\beta}}{n} \\ &amp;= -\cos{\alpha} \frac{W'd}{f_\mathrm{coll}n} \end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;可以看出分辨率与成像相机的焦距没有关系。提升分辨率可以通过改变上式的参数，但是一般会导致光损(减小&lt;script type=&quot;math/tex&quot;&gt;W'&lt;/script&gt;)或者需要更大/更好的光栅(增大&lt;script type=&quot;math/tex&quot;&gt;f_\mathrm{coll}&lt;/script&gt;或者&lt;script type=&quot;math/tex&quot;&gt;n&lt;/script&gt;)。&lt;/p&gt;

&lt;h3 id=&quot;阶梯光谱仪&quot;&gt;阶梯光谱仪&lt;/h3&gt;

&lt;p&gt;通过增大&lt;script type=&quot;math/tex&quot;&gt;n&lt;/script&gt;来提高分辨率实际上没那么简单。使用高级数光谱的时候，虽然光谱的确被色散到了更宽的角度上（当然传统上这意味着需要更长的CCD），但是不同级数的光谱会发生重叠，使得不同（但是分立）波长的光同时照到了一个像素上。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP3/wav_inter.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;高级数光谱重叠情况；选择的当的话黑色虚线中间可以包含了整个波长范围的光&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;那么如果我们截取某一段区域，使得这段区域几个级数的光谱加起来刚好覆盖我们想要的波长，然后在后面加上一个在另一个方向上色散的光栅，就可以把光谱分成独立的条状并且覆盖很宽的波长范围；这就是阶梯光谱仪。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP3/echelle.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;阶梯光谱仪示意图&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;阶梯光谱仪的一个例子是京都产业大学制造的&lt;a href=&quot;http://merlot.kyoto-su.ac.jp/LIH/WINERED/index.html&quot;&gt;WINERED&lt;/a&gt;：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP3/winered-index.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://merlot.kyoto-su.ac.jp/LIH/WINERED/images/pic-4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;图中下方从右到左为狭缝、准直镜以及阶梯光栅，中间的白色部分为CCD。这个光谱仪波长虽然在近红外(&lt;script type=&quot;math/tex&quot;&gt;0.90-1.35 \mu \mathrm{m}&lt;/script&gt;)，但是除了CCD部分之外都在常温下工作，不需要冷却；同时在分辨率、波长覆盖和灵敏度上都有不错的数值。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://merlot.kyoto-su.ac.jp/LIH/WINERED/images/pic-2.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;WINERED与其他光谱仪参数对比&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;略过的内容&quot;&gt;略过的内容&lt;/h3&gt;

&lt;p&gt;多目标光谱仪、迈克尔逊干涉仪、望远镜基础&lt;/p&gt;
</description>
        <pubDate>Mon, 18 Dec 2017 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2017/12/18/OASP3/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/12/18/OASP3/</guid>
        
        <category>learning</category>
        
        
      </item>
    
      <item>
        <title>公开课微信群</title>
        <description>&lt;h4 id=&quot;201712&quot;&gt;2017.12&lt;/h4&gt;

&lt;p&gt;这个月有一点忙，所以完成的质量不是很高；不过至少完成了python的matplotlib课程。
稍微简单总结一下吧，matplotlib是一个画图的软件包。画图虽然看起来很简单基本上而且是研究的最后一步，但是它却比一般想象中的重要。首先我们要思考的是我们需要用什么样的图去表达我们的数据；如果是时间序列那很显然不应该用柱状图而应该用点线来表达，如果是比例大小那就应该用饼图。选定了图表种类之后应该考虑的是如何准确地表达数据。如果柱状图中不同的柱子相差很小，那么将y轴范围设到刚好小于最小值与刚好大于最大值可以“显著地”拉开它们的差距，给人一种相差很大的感觉；这招在16年美国大选的时候被媒体用来误导读者川普的支持率很低。在准确性之上还有图表的配色，比如我是应该用不同的颜色去区分不同的线还是用不同的线型；两组不同的线可以再用什么风格去区分？这里的原则是能尽量不用彩色就不用彩色；不仅是因为印刷的时候更费油墨，也是考虑到色盲/色弱读者的情况。第二是面对不同的读者群体使用不同的风格。如果是同行/研究者，图标应该越简单越好，有利于同行尽快得到信息。而如果是面对普通读者，那么可以考虑加一些令人印象深刻的元素，比如用男女身体曲线来表达数据，会让看过的人很难忘记这组数据。&lt;/p&gt;

&lt;p&gt;当然现在matplotlib里面已经内置了不少画图的包，拿来用就好了。不过从默认到真正合适的图表还是要花不少心思的。&lt;/p&gt;

&lt;h4 id=&quot;201711&quot;&gt;2017.11&lt;/h4&gt;

&lt;p&gt;这个月完成了Coursera网页前端基础系列课程之中的两个。&lt;/p&gt;

&lt;p&gt;说起网页制作和设计，这是一直以来都挺想学的内容。第一它的实质仍然是编程，将代码转化为网页，自己对编程比较熟悉；第二它又和一直以来接触的数据处理不一样，主要负责呈现，也就是处在数据处理前面的内容。在数据可视化的过程中，一般平常用到编程语言的UI都是不怎么好看的，而且依赖于语言本身；但是通过网页前端呈现内容可以将两部分分离，也就是说不管后端用的是什么语言，只要输出格式正确，都能套到同一个网页中；而且网页的呈现方式基本上统一，HTML5+CSS3+JS，这就保证了在不同的平台/设备上都能获得相似的体验。&lt;/p&gt;

&lt;p&gt;这个月主要跟的是密歇根大学的Web Design for Everybody系列课程，从HTML5到JavaScript。实际上课程难度非常小，基本上只是教了语言最基本的用法；但是其中的思考方式和数据处理是很不一样的。作为网页，HTML5+CSS3将内容和样式分离，给与了一个网页无限多的可能；同时也给代码赋予了很大的灵活性，可以将某个元素多次定义，浏览器只会显示最后定义的样式。而在数据处理中，我们总是希望（至少在一个模块内）一个变量由始至终代表同一个数据而且尽量不去改变。当然JS的确就回到了传统意义上的编程，而且也通过程序给网页带来了非常多的可能性。&lt;/p&gt;

&lt;p&gt;有人监督的确更有动力去学，看着列表里面完成了的课越来越多挺有成就感的。下个月继续往网页设计方向稍微学深一点。&lt;/p&gt;

&lt;p&gt;同时推荐&lt;a href=&quot;http://www.csszengarden.com/&quot;&gt;CSS Zen Garden&lt;/a&gt;，看看别人是怎么将同一个网页通过不同的CSS3玩出花来的。&lt;/p&gt;
</description>
        <pubDate>Sun, 03 Dec 2017 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2017/12/03/course-group1/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/12/03/course-group1/</guid>
        
        <category>正业以外</category>
        
        
      </item>
    
      <item>
        <title>OASP - 2</title>
        <description>&lt;p&gt;傅里叶变换是非常有用的工具；不仅在时序上可以确定周期/频率，之后还会看到一个光谱仪也相当于一个傅里叶变换器。在这里有一点需要明确的是我们以后会经常讨论光谱，所以傅里叶变换的&lt;script type=&quot;math/tex&quot;&gt;x&lt;/script&gt;域一般是光谱的频率域，而&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;域并没有很好的名字；所以下文统一称傅里叶变换前后的域为&lt;script type=&quot;math/tex&quot;&gt;x&lt;/script&gt;域与&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;域。&lt;/p&gt;

&lt;h3 id=&quot;定义&quot;&gt;定义&lt;/h3&gt;

&lt;p&gt;一个函数&lt;script type=&quot;math/tex&quot;&gt;F(x)&lt;/script&gt;和它的傅里叶变换&lt;script type=&quot;math/tex&quot;&gt;f(\sigma)&lt;/script&gt;的关系为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;f(\sigma) = \int_{-\infty}^\infty F(x) e^{2\pi i x\sigma} \mathrm{d}x&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F(x) = \int_{-\infty}^\infty f(\sigma) e^{-2\pi i x\sigma} \mathrm{d}\sigma&lt;/script&gt;

&lt;p&gt;对于傅里叶变换的直观理解&lt;a href=&quot;https://www.zhihu.com/topic/19600515/top-answers&quot;&gt;知乎上&lt;/a&gt;已经有了很多不错的答案，我觉得只要了解可以将任何函数拆成各种各样的三角函数相加就可以了。&lt;script type=&quot;math/tex&quot;&gt;F,f&lt;/script&gt;一般都是复函数，只有当&lt;script type=&quot;math/tex&quot;&gt;F(x)&lt;/script&gt;为实偶函数的时候对应的&lt;script type=&quot;math/tex&quot;&gt;f(\sigma)&lt;/script&gt;才是实函数。&lt;/p&gt;

&lt;p&gt;当&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;或&lt;script type=&quot;math/tex&quot;&gt;x = 0&lt;/script&gt;的时候，傅里叶和逆傅里叶变换变为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;f(0) = \int_{-\infty}^\infty F(x)  \mathrm{d}x&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F(0) = \int_{-\infty}^\infty f(\sigma)  \mathrm{d}\sigma&lt;/script&gt;

&lt;p&gt;如果讨论谱线，此时傅里叶变换的意义就是谱线和&lt;script type=&quot;math/tex&quot;&gt;x&lt;/script&gt;轴围成的面积，也就是总吸收量。&lt;/p&gt;

&lt;h3 id=&quot;常见的傅里叶变换&quot;&gt;常见的傅里叶变换&lt;/h3&gt;

&lt;p&gt;这里给出了常见的傅里叶变换以及图像。fft的结果因为是取模后画的图所以相当于解析的结果取了绝对值。&lt;/p&gt;

&lt;h5 id=&quot;方波&quot;&gt;方波&lt;/h5&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
B(x) = \begin{cases} 0 &amp; x \notin [-\frac{W}{2}, \frac{W}{2}] \\ 1 &amp; x \in [-\frac{W}{2}, \frac{W}{2}] \end{cases} %]]&gt;&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;b(\sigma) = W \frac{\sin{(\pi W\sigma)}}{\pi W\sigma}&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP2/01square_wave.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;高斯函数&quot;&gt;高斯函数&lt;/h5&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;G(x) = \frac{1}{\beta\pi^\frac{1}{2}} e^{-\frac{x^2}{\beta^2}}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;g(\sigma) = e^{-(\pi\beta\sigma)^2}&lt;/script&gt;

&lt;p&gt;高斯的傅里叶变换是另一个高斯。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP2/02gauss.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;洛仑兹函数&quot;&gt;洛仑兹函数&lt;/h5&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;L(x) = \frac{1}{\pi} \frac{\beta}{x^2+\beta^2}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;l(x) = e^{-2\pi\beta|\sigma|}&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP2/03lorentz.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;delta函数&quot;&gt;&lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;函数&lt;/h5&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F(x) = \delta(x-x_1)&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;f(\sigma) = e^{2\pi i x_1\sigma}&lt;/script&gt;

&lt;p&gt;单个&lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;函数的傅里叶变换的振幅是常数，相位随着&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;线性增加；两个正而且对称的&lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;函数的傅里叶变换是余弦函数，一正一负（对称）的傅里叶变换的振幅是正弦函数。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP2/04delta.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP2/05ddelta.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;shah函数&quot;&gt;Shah函数&lt;/h5&gt;

&lt;p&gt;Shah函数实际上是一堆等间距分布的&lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;函数：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;III(x) = \sum\limits_{n=-\infty}^{\infty} \delta(x - n\Delta x)&lt;/script&gt;

&lt;p&gt;它的傅里叶变换还是一个Shah函数，只不过间距变了：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;iii(\sigma) = \sum\limits_{n=-\infty}^{\infty} \delta(\sigma - n\frac{1}{\Delta x})&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-OASP2/06shah.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;以上的函数以及它们的傅里叶变换在接下来的一节以及第三章都会经常用到。&lt;/p&gt;

&lt;h3 id=&quot;数据采样&quot;&gt;数据采样&lt;/h3&gt;

&lt;p&gt;实际上观测到的数据都是离散的点，所以我们要考虑这样的离散化会带来什么样的结果。&lt;/p&gt;

&lt;p&gt;仍然从连续函数出发，离散化意味着将连续函数与Shah函数相乘（以波长为横坐标）：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;D(\lambda) = III(\lambda)F(\lambda)&lt;/script&gt;

&lt;p&gt;实际测量的函数等于Shah函数与理想的连续函数相乘。同时一般来说，无论是时变数据还是光谱数据，我们都不可能无限地测量下去（望远镜时间不是无限的，光谱仪有截止波长），所以我们还需要加上一个响应度函数&lt;script type=&quot;math/tex&quot;&gt;B(\lambda)&lt;/script&gt;，来限制波长范围以及修改每个波长上的响应度（时间域上的数据应该不需要有响应度）：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;D(\lambda) = B(\lambda)III(\lambda)F(\lambda)&lt;/script&gt;

&lt;p&gt;这个时候如果想求&lt;script type=&quot;math/tex&quot;&gt;D(\lambda)&lt;/script&gt;的傅里叶变换的话就需要知道几个函数相乘的傅里叶变换是什么，这就涉及到卷积了。&lt;/p&gt;

&lt;h3 id=&quot;卷积&quot;&gt;卷积&lt;/h3&gt;

&lt;p&gt;两个函数&lt;script type=&quot;math/tex&quot;&gt;f(\sigma), g(\sigma)&lt;/script&gt;的卷积定义为：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;k(\sigma) = f(\sigma) * g(\sigma) = \int_{-\infty}^{\infty} f(\sigma_1) g(\sigma-\sigma_1) \mathrm{d}\sigma_1&lt;/script&gt;

&lt;p&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%8D%B7%E7%A7%AF&quot;&gt;维基百科&lt;/a&gt;上的一张图可以比较直观地帮助理解卷积：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/b/b9/Convolution_of_spiky_function_with_box2.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;将其中一个函数以0为中心翻转、从左往右平移，两函数每点相乘在求和的结果就是这两个函数在第一个函数对称中心处的值。&lt;/p&gt;

&lt;p&gt;从定义以及理解可以容易得到&lt;script type=&quot;math/tex&quot;&gt;f(\sigma) * g(\sigma) = g(\sigma) * f(\sigma)&lt;/script&gt;。&lt;/p&gt;

&lt;h5 id=&quot;卷积和傅里叶变换的关系&quot;&gt;卷积和傅里叶变换的关系&lt;/h5&gt;

&lt;p&gt;实际上两函数相乘的傅里叶变换就是这两函数各自傅里叶变换的卷积(倒过来也对)，即&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F(x)G(x) \Longrightarrow f(\sigma) * g(\sigma)&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F(x) * G(x) \Longrightarrow f(\sigma)g(\sigma)&lt;/script&gt;

&lt;p&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%8D%B7%E7%A7%AF%E5%AE%9A%E7%90%86&quot;&gt;维基百科&lt;/a&gt;上有证明；这里为了理解方便将证明过程倒过来写一遍。简单起见我们证明两函数各自傅里叶变换的卷积的逆傅里叶变换为两函数的乘积，可用富比尼定理，则：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align}  \int f(\sigma) * g(\sigma) e^{-2\pi ix\sigma} \mathrm{d}\sigma &amp; = F(x)G(x) \\ \int \left(\int f(\sigma_1) g(\sigma-\sigma_1) \mathrm{d}\sigma_1\right) e^{-2\pi ix\sigma} d\sigma &amp; = \int f(\sigma_1) \left( \int g(\sigma-\sigma_1) e^{-2\pi ix\sigma} \mathrm{d}\sigma\right) \mathrm{d}\sigma_1 \\ &amp; = \int f(\sigma_1) \left( \int g(\alpha) e^{-2\pi ix(\alpha + \sigma_1)} \mathrm{d}\alpha\right) \mathrm{d}\sigma_1 \\ &amp; = \int f(\sigma_1) e^{-2\pi ix\sigma_1} \mathrm{d}\sigma_1 \int g(\alpha) e^{-2\pi ix\alpha} \mathrm{d}\alpha \\ &amp; = F(x)G(x) \end{align} %]]&gt;&lt;/script&gt;

&lt;h5 id=&quot;与delta函数的卷积&quot;&gt;与&lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;函数的卷积&lt;/h5&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;F(x) * \delta(x-x_1) = F(x-x_1) \Longrightarrow f(\sigma) e^{2\pi ix_1\sigma}&lt;/script&gt;

&lt;p&gt;这个结果会在接下来的性质2中用到。&lt;/p&gt;

&lt;h5 id=&quot;高斯洛仑兹函数之间的卷积&quot;&gt;高斯、洛仑兹函数之间的卷积&lt;/h5&gt;

&lt;p&gt;高斯函数的傅里叶变换还是高斯函数&lt;script type=&quot;math/tex&quot;&gt;g(\sigma) = e^{-(\pi\beta\sigma)^2}&lt;/script&gt;，所以两个高斯函数卷积的傅里叶变换为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;g_a(\sigma)g_b(\sigma) = e^{-(\pi\beta_a\sigma)^2}e^{-(\pi\beta_b\sigma)^2} = e^{-(\pi\beta_c\sigma)^2}&lt;/script&gt;

&lt;p&gt;还是一个高斯函数；此时的&lt;script type=&quot;math/tex&quot;&gt;G(x)&lt;/script&gt;更窄，但是&lt;script type=&quot;math/tex&quot;&gt;g(\sigma)&lt;/script&gt;更宽&lt;script type=&quot;math/tex&quot;&gt;(\beta_c^2 = \beta_a^2+\beta_b^2)&lt;/script&gt;。&lt;/p&gt;

&lt;p&gt;同理，洛仑兹与洛仑兹函数的卷积也还是个洛仑兹函数，只不过现在&lt;script type=&quot;math/tex&quot;&gt;\beta_c = \beta_a + \beta_b&lt;/script&gt;。&lt;/p&gt;

&lt;p&gt;高斯函数和洛仑兹函数的卷积叫做福格特(Voigt)函数，它的傅里叶变换为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;v(\sigma) = e^{-\pi^2\beta_g^2\sigma^2} e^{-2\pi\beta_l|\sigma|}&lt;/script&gt;

&lt;p&gt;在第11章会用到。&lt;/p&gt;

&lt;h3 id=&quot;被模糊的数据&quot;&gt;被模糊的数据&lt;/h3&gt;

&lt;p&gt;我们现在可以回到&lt;script type=&quot;math/tex&quot;&gt;D(\lambda)&lt;/script&gt;中。除了截断和采样之外，观测仪器当然也会在最终的结果中留下一些特征，叫做仪器轮廓(instrumental profile)。一般来说这些特征是一个&lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;函数；也就是说一个很窄的&lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;函数在经过观测仪器之后会变成另一个宽一点的&lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;函数，或者说两个&lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;函数卷积了。仪器轮廓可以被测出来（通过观测很细的谱线；第12章），我们在这里记作&lt;script type=&quot;math/tex&quot;&gt;I(\lambda)&lt;/script&gt;。所以现在的&lt;script type=&quot;math/tex&quot;&gt;D(\lambda)&lt;/script&gt;变成了&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;D(\lambda) = [B(\lambda)III(\lambda)F(\lambda)] * I(\lambda)&lt;/script&gt;

&lt;p&gt;在&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;域，上式变为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;d(\sigma) = [b(\sigma) * III(\sigma) * f(\sigma)] \times i(\sigma)&lt;/script&gt;

&lt;p&gt;可以看到最终傅里叶域的函数被乘上了一个&lt;script type=&quot;math/tex&quot;&gt;i(\sigma)&lt;/script&gt;。一般仪器轮廓是一个比较窄的高斯或者洛仑兹轮廓，所以它的傅里叶变换是一个相对宽的轮廓，对&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;域中的“低频”部分没有很大影响；但是轮廓会在高&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;部分下降，所以会抹掉高&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;部分的信息。在&lt;script type=&quot;math/tex&quot;&gt;\lambda&lt;/script&gt;域上这意味着每个数据点不再是一个孤立的点，而因为与仪器轮廓的卷积会和旁边的数据点耦合，将高&lt;script type=&quot;math/tex&quot;&gt;\lambda&lt;/script&gt;的信息“平均”掉。&lt;/p&gt;

&lt;h3 id=&quot;采样-iiisigma的影响&quot;&gt;采样 &lt;script type=&quot;math/tex&quot;&gt;III(\sigma)&lt;/script&gt;的影响&lt;/h3&gt;

&lt;p&gt;采样对高&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;信号的也会产生影响（可能比仪器轮廓更大）。信号与Shah函数的卷积&lt;script type=&quot;math/tex&quot;&gt;III(\sigma) * f(\sigma)&lt;/script&gt;会使得信号在Shah函数每个不为0处附近重复，使得一样的图样发生重叠，同样抹掉了高&lt;script type=&quot;math/tex&quot;&gt;x&lt;/script&gt;的信息。因为Shah函数傅里叶变换后成为间隔为&lt;script type=&quot;math/tex&quot;&gt;\frac{1}{\Delta x}&lt;/script&gt;的Shah函数，所以我们认为在这个间隔的一半区间内，信号是没有重叠的，叫做奈奎斯特频率：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\sigma_N = \frac{1}{2\Delta x}&lt;/script&gt;

&lt;p&gt;在这里因为我们对信号进行了采样，所以得到的实际上是离散的信号点；我们并不知道点和点之间究竟是怎么样的（虽然经常认为是平滑过渡的），而点和点之间丢失的信息就对应着频域中大于奈奎斯特频率的部分，它们重叠了。与仪器轮廓的不同在于采样是离散化，而仪器轮廓是模糊。&lt;/p&gt;

&lt;p&gt;我们想做的是通过测量&lt;script type=&quot;math/tex&quot;&gt;D(\lambda)&lt;/script&gt;求得&lt;script type=&quot;math/tex&quot;&gt;d(\sigma)&lt;/script&gt;，再转换成&lt;script type=&quot;math/tex&quot;&gt;f(\sigma)&lt;/script&gt;最后求得&lt;script type=&quot;math/tex&quot;&gt;F(\lambda)&lt;/script&gt;。从&lt;script type=&quot;math/tex&quot;&gt;d(\sigma)&lt;/script&gt;到&lt;script type=&quot;math/tex&quot;&gt;f(\sigma)&lt;/script&gt;这一步有&lt;script type=&quot;math/tex&quot;&gt;III(\sigma)&lt;/script&gt;的作用，它们都抹掉了高&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;的信息。如果&lt;script type=&quot;math/tex&quot;&gt;f(\sigma)&lt;/script&gt;在高&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;处趋于0，那么转换这一步基本上是正确的。但是如果重叠的部分很宽，这部分就不会有唯一的解，解决办法是减少采样的间隔。实际上&lt;script type=&quot;math/tex&quot;&gt;f(\sigma)&lt;/script&gt;一般的确在高&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;处趋于0，而且&lt;script type=&quot;math/tex&quot;&gt;i(\sigma)&lt;/script&gt;的存在也会强制使得&lt;script type=&quot;math/tex&quot;&gt;f(\sigma)&lt;/script&gt;高&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;的值减小，所以转换是成立的。&lt;/p&gt;

&lt;p&gt;最后一个需要提及的是&lt;script type=&quot;math/tex&quot;&gt;b(\sigma)&lt;/script&gt;。只要&lt;script type=&quot;math/tex&quot;&gt;B(x)&lt;/script&gt;够宽，问题就不大；但是不够宽的时候&lt;script type=&quot;math/tex&quot;&gt;b(\sigma)&lt;/script&gt;本身的宽度和在&lt;script type=&quot;math/tex&quot;&gt;\sigma &gt; \frac{1}{W}&lt;/script&gt;处的起伏都会导致数据的模糊，所以有必要修改&lt;script type=&quot;math/tex&quot;&gt;B(x)&lt;/script&gt;的边缘以消除起伏。&lt;script type=&quot;math/tex&quot;&gt;b(\sigma)&lt;/script&gt;本身的宽度会使和&lt;script type=&quot;math/tex&quot;&gt;f(\sigma)&lt;/script&gt;的卷积很大，所以有必要稍微减小&lt;script type=&quot;math/tex&quot;&gt;f(\sigma)&lt;/script&gt;。12章会有更多介绍。&lt;/p&gt;

&lt;h3 id=&quot;一些定理&quot;&gt;一些定理&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;script type=&quot;math/tex; mode=display&quot;&gt;F(x_1) + F(x_2) \Leftrightarrow f(\sigma_1) + f(\sigma_2)&lt;/script&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;script type=&quot;math/tex; mode=display&quot;&gt;F(x - x_1) \Leftrightarrow e^{2\pi ix_1\sigma}f(\sigma)&lt;/script&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;script type=&quot;math/tex; mode=display&quot;&gt;F(ax) \Leftrightarrow |\frac{1}{a}|f(\frac{1}{a})&lt;/script&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{\mathrm{d}F(x)}{\mathrm{d}x} \Leftrightarrow 2\pi i \sigma f(\sigma)&lt;/script&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;script type=&quot;math/tex; mode=display&quot;&gt;K(x) = F(x) * G(x) \Rightarrow \frac{\mathrm{d}K(x)}{\mathrm{d}x} = \frac{\mathrm{d}F(x)}{\mathrm{d}x} * G(x) + F(x) * \frac{\mathrm{d}G(x)}{\mathrm{d}x}&lt;/script&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;script type=&quot;math/tex; mode=display&quot;&gt;\int G(x) \mathrm{d}x = 1 \Rightarrow \int F(x) * G(x) \mathrm{d}x = \int F(x) \mathrm{d}x&lt;/script&gt;
  &lt;/li&gt;
  &lt;li&gt;定义&lt;script type=&quot;math/tex&quot;&gt;z = \frac{\int xF(x) \mathrm{d}x}{\int F(x) \mathrm{d}x}&lt;/script&gt;，则若&lt;script type=&quot;math/tex&quot;&gt;K(x) = F(x) * G(x)&lt;/script&gt;，有&lt;script type=&quot;math/tex&quot;&gt;z_K = z_F + z_G&lt;/script&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;script type=&quot;math/tex; mode=display&quot;&gt;\int F(x) G^+(x) \mathrm{d}x = \int f(\sigma) g^+(\sigma) \mathrm{d}\sigma&lt;/script&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;离散计算&quot;&gt;离散计算&lt;/h3&gt;

&lt;p&gt;用定义计算有的时候会带来很大的计算量；而我们经常遇到的数据是均匀采样的，这个时候用快速傅里叶变换(FFT)可以很方便地计算。&lt;/p&gt;

&lt;p&gt;FFT中的输入和结果都是离散的，也就是说&lt;script type=&quot;math/tex&quot;&gt;D(x)&lt;/script&gt;变成了&lt;script type=&quot;math/tex&quot;&gt;D(j\Delta x)&lt;/script&gt;，&lt;script type=&quot;math/tex&quot;&gt;j&lt;/script&gt;是整数，从&lt;script type=&quot;math/tex&quot;&gt;0&lt;/script&gt;到&lt;script type=&quot;math/tex&quot;&gt;N&lt;/script&gt;。同理，将结果也离散化成&lt;script type=&quot;math/tex&quot;&gt;\sigma = k \Delta \sigma&lt;/script&gt;，从傅里叶变换的定义出发我们可以得到&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;d(\sigma) = d(k) = \sum_{j=1}^N D(j)e^{2\pi ijk\Delta x \Delta\sigma} \Delta x&lt;/script&gt;

&lt;p&gt;从上一节我们知道，采样后数据的傅里叶变换只在奈奎斯特频率以下包含有用数据，所以结果的计算也只到&lt;script type=&quot;math/tex&quot;&gt;\sigma_N  = \frac{1}{2\Delta x}&lt;/script&gt;为止。同时我们要求结果的长度和输入的数组长度一致，而且中间为0，所以频域的步长&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta \sigma = \frac{\sigma_N}{N/2} = \frac{1}{\Delta x N}&lt;/script&gt;

&lt;p&gt;或者&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta \sigma \Delta x = \frac{1}{N}&lt;/script&gt;

&lt;p&gt;所以最后我们得到&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;d(k) = \sum_{j=1}^N D(j)e^{2\pi ijk/N} \Delta x&lt;/script&gt;

&lt;p&gt;其实现在就是一个FFT命令的事情。&lt;/p&gt;

&lt;h5 id=&quot;有关numpy中的fft&quot;&gt;有关numpy中的fft&lt;/h5&gt;

&lt;p&gt;因为采样的缘故，fft只计算到奈奎斯特频率的位置。而如果原函数不是实数函数，那么傅里叶变换关于0点对称的复数值将不会共轭，所以numpy中的fft先计算0到&lt;script type=&quot;math/tex&quot;&gt;\sigma_N&lt;/script&gt;的值，再计算0到&lt;script type=&quot;math/tex&quot;&gt;-\sigma_N&lt;/script&gt;的值，并使傅里叶变换的长度与源函数长度一致（一半分给正频率，一半给负频率）。这给我们画图带来了一些麻烦，所以numpy提供了&lt;code class=&quot;highlighter-rouge&quot;&gt;numpy.fft.fftfreq(n[, d])&lt;/code&gt;来给出傅里叶变换的x值，只需输入原函数长度和步长即可。上面的画图中因为结果已知而且基本上特征都在0附近，所以人为地截断到了和原函数同样的x值上；也能看出fft的结果分辨率比解析的差一点，是采样带来的后果。&lt;/p&gt;

&lt;p&gt;有关模，fft结果乘上步长之后取模才是正确的大小，这是因为fft只计算了前两项，没有乘上最后的&lt;script type=&quot;math/tex&quot;&gt;\Delta x&lt;/script&gt;；当然这是因为程序不知道步长的缘故了。&lt;/p&gt;

&lt;p&gt;&lt;em&gt;（暂未解决shah函数的fft结果和预计不符的问题）&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;参见&lt;a href=&quot;https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.fft.html#module-numpy.fft&quot;&gt;这里&lt;/a&gt;。&lt;/p&gt;

&lt;h3 id=&quot;误差&quot;&gt;误差&lt;/h3&gt;

&lt;p&gt;测量是有误差的，那么测量的傅里叶变换误差是多少呢？假设&lt;script type=&quot;math/tex&quot;&gt;E(x)&lt;/script&gt;为函数&lt;script type=&quot;math/tex&quot;&gt;F_0(x)&lt;/script&gt;的测量误差，即&lt;script type=&quot;math/tex&quot;&gt;F(x) = F_0(x) + E(x)&lt;/script&gt;，那么根据定理1，&lt;script type=&quot;math/tex&quot;&gt;F(x)&lt;/script&gt;的傅里叶变换为&lt;script type=&quot;math/tex&quot;&gt;f(\sigma) = f_0(\sigma) + e(\sigma)&lt;/script&gt;。同时定理8告诉我们&lt;script type=&quot;math/tex&quot;&gt;\int \vert E(x)\vert^2  \mathrm{d}x = \int \vert e(\sigma)\vert^2 \mathrm{d}\sigma&lt;/script&gt;。&lt;/p&gt;

&lt;p&gt;&lt;em&gt;（实际上我们并不一定能知道&lt;script type=&quot;math/tex&quot;&gt;E(x)&lt;/script&gt;，更多时候是知道&lt;script type=&quot;math/tex&quot;&gt;E(x)&lt;/script&gt;的一些性质比如说平均值，这个时候怎么办？）&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;离散傅里叶变换里面上式会变为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\sum_1^N E^2(x_j)\Delta x = \sum_1^N e^2(\sigma_j) \Delta \sigma&lt;/script&gt;

&lt;p&gt;定义误差的标准差为&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;S_x = [\sum_1^N \frac{E^2(x_j)}{N-1}]^{1/2}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;S_\sigma = [\sum_1^N \frac{E^2(\sigma_j)}{N-1}]^{1/2}&lt;/script&gt;

&lt;p&gt;代进定理8导出来的式子里面，再加上&lt;script type=&quot;math/tex&quot;&gt;\Delta x&lt;/script&gt;和&lt;script type=&quot;math/tex&quot;&gt;\Delta \sigma&lt;/script&gt;的关系，我们有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;S_\sigma = S_x \Delta x N^{1/2}&lt;/script&gt;

&lt;p&gt;也就是说想减少傅里叶变换的误差，可以减少测量误差或者缩短采样间隔，或者增大采样范围。实际测量的时候只把关心的数据点纳入（比如说某条谱线），将其他的点改成平均值或者1这种误差为0的数值可以减少测量误差。&lt;/p&gt;

&lt;p&gt;&lt;em&gt;（书里提到了FFT的数组长度必须为2的指数，但是实际上似乎不是？）&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;当误差与&lt;script type=&quot;math/tex&quot;&gt;x,\sigma&lt;/script&gt;无关，并且采样间隔小到除了&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;域的主体之外，还有一部分高&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;的变换也在&lt;script type=&quot;math/tex&quot;&gt;\sigma_N&lt;/script&gt;之内时，我们通过可以高&lt;script type=&quot;math/tex&quot;&gt;\sigma&lt;/script&gt;部分直接测量&lt;script type=&quot;math/tex&quot;&gt;S_\sigma&lt;/script&gt;从而算出&lt;script type=&quot;math/tex&quot;&gt;S_x&lt;/script&gt;。&lt;/p&gt;

&lt;h3 id=&quot;时间序列略&quot;&gt;时间序列（略）&lt;/h3&gt;

&lt;p&gt;对于有周期的信号来说，长时间观测之后可以求出周期；但是观测时间不长或者周期性不明显的时候，可以考虑使用傅里叶变换。但是要注意由于采样引起的假信号（Shah函数），不一定每个峰都是真的。&lt;/p&gt;
</description>
        <pubDate>Sat, 11 Nov 2017 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2017/11/11/OASP2/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/11/11/OASP2/</guid>
        
        <category>learning</category>
        
        
      </item>
    
      <item>
        <title>恒星光球层的观测与分析(OASP) - 1</title>
        <description>&lt;p&gt;&lt;img src=&quot;http://t1.gstatic.com/images?q=tbn:ANd9GcRhhc3AC-KuxR9-IYED0pwifa6OOgkcpjhb27ST7pFwTV35UJPr&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;书的封面&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;前言&quot;&gt;前言&lt;/h3&gt;

&lt;p&gt;这是恒星光球层的观测与分析(The Observation and Analysis of Stellar Photosphere)的读书笔记。当时是找生长曲线相关资料的时候偶尔看到的，觉得不错，就打算慢慢看下去，把笔记记在这里。这本书说是对光球层的观测与分析，实际上是教你如何分析恒星光谱。写笔记中肯定会有理解错误的地方，请不吝指正，どうか。&lt;br /&gt;
为了避免版权问题，图片尽量从其他地方找、或者自己画。&lt;/p&gt;

&lt;h3 id=&quot;第一章&quot;&gt;第一章&lt;/h3&gt;

&lt;p&gt;对恒星的光谱观测基本上就是对光球层的观测。我们可以从里面得到很多信息，比如质量、年龄、金属丰度、温度等等。我们关注光球层的原因是可见光光谱中的光子就是从光球层中发出的。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Sun_Atmosphere_Temperature_and_Density_SkyLab.jpg/800px-Sun_Atmosphere_Temperature_and_Density_SkyLab.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;恒星各层的位置和温度。来自&lt;a href=&quot;https://en.wikipedia.org/wiki/Photosphere&quot;&gt;维基百科&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;这一章简要地介绍了一些概念，没有涉及太多的计算。这里默认读者对这些概念已经了解，仅简要列举如下：&lt;/p&gt;

&lt;h4 id=&quot;基本量&quot;&gt;基本量&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;重力加速度 &lt;script type=&quot;math/tex&quot;&gt;g&lt;/script&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;g = g_\odot \frac{m}{R^2}&lt;/script&gt;

&lt;p&gt;以太阳为基准计算物理量是天文领域惯用的伎俩了；相对量不用管系数是多少，抓住和物理量有关的量确定幂次（或者更加复杂的形式）就好，&lt;script type=&quot;math/tex&quot;&gt;g_\odot&lt;/script&gt;测定就行。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;有效温度 &lt;script type=&quot;math/tex&quot;&gt;T_\mathrm{eff}&lt;/script&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\sigma T_\mathrm{eff}^4 = \int_0^\infty f_\nu d\nu&lt;/script&gt;

&lt;p&gt;有效温度是通过恒星的流量来定义的。这里的&lt;script type=&quot;math/tex&quot;&gt;f_\nu&lt;/script&gt;会在第五章定义。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;光度 &lt;script type=&quot;math/tex&quot;&gt;L&lt;/script&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;L = 4\pi R^2 \sigma T_\mathrm{eff}^4&lt;/script&gt;

&lt;ul&gt;
  &lt;li&gt;光谱型分类&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;略。&lt;/p&gt;

&lt;h4 id=&quot;测光相关&quot;&gt;测光相关&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;星等&lt;/li&gt;
&lt;/ul&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;m = -2.5 \lg \int_0^\infty F_\nu W(\nu) \mathrm{d}\nu + C&lt;/script&gt;

&lt;p&gt;这里&lt;script type=&quot;math/tex&quot;&gt;F_\nu&lt;/script&gt;是投射到望远镜或者CCD上的光量，&lt;script type=&quot;math/tex&quot;&gt;W(\nu)&lt;/script&gt;是透过率；常数&lt;script type=&quot;math/tex&quot;&gt;C&lt;/script&gt;用标准星标定。如果&lt;script type=&quot;math/tex&quot;&gt;W(\nu) = 1&lt;/script&gt;那么星等就变为热星等。&lt;/p&gt;

&lt;p&gt;有关各星等系统的透过率信息在&lt;a href=&quot;http://svo2.cab.inta-csic.es/svo/theory/fps/&quot;&gt;这里&lt;/a&gt;。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;色指数&lt;/li&gt;
&lt;/ul&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;m_a = m_b = -2.5 \lg \frac{E_1}{E_2} + C&lt;/script&gt;

&lt;p&gt;这里的常数&lt;script type=&quot;math/tex&quot;&gt;C&lt;/script&gt;是令某光谱型恒星色指数为0的常数。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;星际消光&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;星际消光影响星等和色织数，不影响谱线形状，但是会在光谱上产生吸收线。&lt;/p&gt;

&lt;h4 id=&quot;物理公式&quot;&gt;物理公式&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;理想气体&lt;/li&gt;
&lt;/ul&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;PV = nRT&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;P = \frac{nN_0}{V} \frac{R}{N_0} T = NKT&lt;/script&gt;

&lt;ul&gt;
  &lt;li&gt;速率分布&lt;/li&gt;
&lt;/ul&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{\mathrm{d}N(v_R)}{N_\mathrm{total}} = (\frac{m}{2\pi kT})^{3/2} e^{-\frac{mv_R^2}{2KT}} \mathrm{d}v_R&lt;/script&gt;

&lt;p&gt;麦克斯韦分布。&lt;script type=&quot;math/tex&quot;&gt;v_R&lt;/script&gt;为视向速度分量。&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{\mathrm{d}N(v)}{N_\mathrm{total}} = (\frac{2}{\pi})^{1/2}(\frac{m}{kT})^{3/2} e^{-\frac{mv^2}{2KT}} \mathrm{d}v&lt;/script&gt;

&lt;p&gt;麦克斯韦-玻尔兹曼分布。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;原子激发与电离&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;对于某两个能级来说，占据数有如下关系：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{N_n}{N_m} = \frac{g_n}{g_m} e^{-\frac{\Delta \chi}{kT}}&lt;/script&gt;

&lt;p&gt;对于某一个能级和总原子数，有&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{N_n}{N} = \frac{g_n}{u(T)} e^{-\frac{\chi_n}{kT}}&lt;/script&gt;

&lt;p&gt;其中&lt;script type=&quot;math/tex&quot;&gt;u(T) = \Sigma g_i e^{-\frac{\chi_n}{kT}}&lt;/script&gt;为配分函数；附录D中有表格可供计算。从这里可以看出基态的占据数和温度无关（&lt;em&gt;如何理解？&lt;/em&gt;）&lt;/p&gt;

&lt;p&gt;Saha方程是用在原子的电离上的，表示某电离态和原子态的数量之比：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{N_n}{N_0} P_e = \frac{(2\pi m_e)^{3/2}(kT)^{5/2}}{h^3} \frac{2u_1(T)}{u_0(T)}e^{-\frac{I}{kT}}&lt;/script&gt;

&lt;p&gt;结合Saha方程和上上式，即可得出某能级原子占总原子数的比：&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{N_n}{N_\mathrm{total}} = \frac{N_n}{N_0+N_1+N_2+...}&lt;/script&gt;

&lt;p&gt;要讨论某个电离态里面的某个激发态的时候，就用那个电离态的&lt;script type=&quot;math/tex&quot;&gt;N_i&lt;/script&gt;去除上式，就可以把那两条式子代入了。&lt;/p&gt;

&lt;h3 id=&quot;问题&quot;&gt;问题&lt;/h3&gt;

&lt;p&gt;1-4略。&lt;/p&gt;

&lt;p&gt;-5.&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\approx 10^5 \mathrm{K}&lt;/script&gt;

&lt;p&gt;-6.&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{N_0}{N} = \frac{1}{1+\frac{N_1}{N_0}+\frac{N_2}{N_0}}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{N_1}{N} = \frac{1}{\frac{N_0}{N_1}+1+\frac{N_2}{N_1}}&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{N_2}{N} = \frac{1}{\frac{N_0}{N_2}+\frac{N_1}{N_2}+1}&lt;/script&gt;
</description>
        <pubDate>Sat, 11 Nov 2017 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2017/11/11/OASP1/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/11/11/OASP1/</guid>
        
        <category>learning</category>
        
        
      </item>
    
      <item>
        <title>给小天体起名字</title>
        <description>&lt;p&gt;还记得两年前我们第一次看到印在冥王星上面巨大的心型吗？那是我们第一次如此近距离地看到冥王星的样子。在那之后，负责拍照的探测器新视野号并没有停下它的脚步，而是向着柯依伯带进发。2019年1月1日，新视野号将飞掠柯依伯带天体(486958) 2014 MU69（后文简称MU69），我们将第一次近距离观测柯依伯带天体的“真容”。作为吃瓜群众，我们能做的除了等待之外，还有为这个小天体取一个更好记的名字。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-MU69/flyby.gif&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;新视野号的轨道以及与冥王星和MU69的交会&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;NASA从昨天开始向全世界&lt;a href=&quot;http://www.frontierworlds.org/home&quot;&gt;征集MU69的昵称&lt;/a&gt;；所有人都可以提出新的名字，同时为已有的名字投票。现在已经有了11个候选名字，其中有一个还是来自于中国神话的盘古(Pangu)。提出名字和投票将会在北京时间12月2日凌晨4点（美国东部时间1日下午3点）截止，然后由NASA根据投票情况在明年1月初决定昵称，19年飞掠之后根据拍摄到的小天体形态向国际天文联合会提出最终命名的申请。&lt;/p&gt;

&lt;h2 id=&quot;怎么发现的&quot;&gt;怎么发现的？&lt;/h2&gt;

&lt;p&gt;早在新视野号飞掠冥王星之前，科学家们就开始了对之后任务目标的搜寻。在2011到2014年间，昴星团和麦哲伦望远镜都曾观测了新视野号将要飞掠的天区，发现了50个新的柯依伯带天体；但是即使是最近的也需要新视野号所剩燃料量的1.6倍才能调整至可以飞掠的轨道。所以我们请出了哈勃望远镜，并发现了5个新的天体；其中就有MU69，并且在飞掠冥王星之后被选为了新视野号的下一个目标。这也是第一个在探测器升空之后才被发现的观测目标。&lt;/p&gt;

&lt;p&gt;最初对MU69的命名是1110113Y（哈勃望远镜的命名）和PT1（潜在目标1号），这两个名字加起来刚好有三对11，似乎和即将到来的节日比较配。2014 MU69是天体的临时编号，意味着这是2014年6月16到30日之间发现的第1745个天体；而最终编号是486958。在19年名称决定之后新的名称将取代2014 MU69。&lt;/p&gt;

&lt;h2 id=&quot;已经知道的信息&quot;&gt;已经知道的信息&lt;/h2&gt;

&lt;p&gt;MU69的轨道周期大约是295年，基本上在黄道上而且轨道很圆。今年6月到7月之间MU69曾三次掩星（遮挡背后某些恒星发出的光）；第一次观测因为对轨道的确定不够精确而失败了，第二次掩星发生在南太平洋上，NASA的同温层红外线天文台（SOFIA）成功地拍摄到了MU69，并获取了更精确的轨道信息。这些信息加上之后哈勃望远镜的数据使得第三次掩星观测非常成功，至少有5个望远镜观测到了恒星那一瞬间的“眨眼”。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-MU69/occulation.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;第三次掩星的观测结果&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;令人惊讶的是掩星结果似乎暗示着它的形状呈细长型，而且非常不规则；甚至有可能是哑铃型（花生型？）或者两颗分离的子星。作为暗弱的柯依伯带天体，MU69并不大，最长部分不超过30公里。更多的细节则要等到19年元旦才能知道了。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-MU69/shape.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;现在猜测MU69可能的三种形状；你觉得是哪个？&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;如何参与命名&quot;&gt;如何参与命名？&lt;/h2&gt;

&lt;p&gt;很简单，戳&lt;a href=&quot;http://www.frontierworlds.org/vote&quot;&gt;这里&lt;/a&gt;，然后给自己喜欢的名字投票；投票是多选，而且似乎可以重复投。&lt;/p&gt;

&lt;p&gt;我们先来看一下现在已有的11个名字：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Año Nuevo&lt;br /&gt;
西班牙语“新年”的意思，纪念新视野号在19年元旦的飞掠。如果MU69是两个天体，则分别命名为Año和Nuevo（一个叫新一个叫年…）。&lt;/li&gt;
  &lt;li&gt;Camalor&lt;br /&gt;
Robert L. Forward的小说Camelot 30K中外星人的城市名称。这座城市温度只有30K（负240摄氏度），可能因为这一点和MU69的低温产生了联系。&lt;/li&gt;
  &lt;li&gt;Chomolungma, Sagarmatha&lt;br /&gt;
珠穆朗玛峰的名字。和MU69一样，珠穆朗玛峰也是寒冷而且具有挑战性的地方；而Chomolungma有“世界之母”（或者群山之母）的意思，寄托着MU96为我们揭开太阳系起源的希望。&lt;/li&gt;
  &lt;li&gt;Kibo, Mawenzi, Shira&lt;br /&gt;
乞力马扎罗山三座主峰的名字。有高处、寒冷的寓意，但是无论MU96是单独一个还是两个小天体都不知道怎么分这仨名字。&lt;/li&gt;
  &lt;li&gt;Mjölnir&lt;br /&gt;
雷神索尔之锤！暗指MU96奇怪的形状可能是被雷神凿出来的。&lt;/li&gt;
  &lt;li&gt;Pangu&lt;br /&gt;
盘古。这是我们最熟悉的神祇，而且NASA页面中也说这是最有可能被IAU批准的名字。如果MU96为双天体的话将会被命名为Yin（阴）和Yang（阳）。&lt;/li&gt;
  &lt;li&gt;Peanut, Almond, Cashew&lt;br /&gt;
花生、杏仁、腰果。根据推测的样子命的名；如果发现不是这些样子的话可以改（那就不用现在命名了嘛）。&lt;/li&gt;
  &lt;li&gt;Pluck &amp;amp; Persistence&lt;br /&gt;
胆识和坚持；这是新视野号项目中两个最突出的品质。&lt;/li&gt;
  &lt;li&gt;Sagittarius&lt;br /&gt;
人马座，因为MU69现在在人马座位置。&lt;/li&gt;
  &lt;li&gt;Uluru&lt;br /&gt;
澳大利亚的艾尔斯岩，全球最大的单块岩石，大约是MU69大小的十分之一。&lt;/li&gt;
  &lt;li&gt;Z’ha’dum&lt;br /&gt;
美国科幻电视剧《巴比伦5号》中的一颗行星，处在银河系的边缘，和MU69一样非常遥远。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-MU69/vote_tally.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;现在的得票情况&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;现在排名前三的是Mjölnir、Peanut, Almond, Cashew（花生都能排第二！）和Z’ha’dum；盘古暂时排在第五，最后一名是珠穆朗玛。当然如果对这些名字不满意的话也可以&lt;a href=&quot;http://www.frontierworlds.org/nominations&quot;&gt;提出新的名字&lt;/a&gt;，只要说明理由就可以了。&lt;/p&gt;

&lt;p&gt;Come and Help Nickname New Horizons’ Next Flyby Target!&lt;/p&gt;
</description>
        <pubDate>Wed, 08 Nov 2017 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2017/11/08/MU69/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/11/08/MU69/</guid>
        
        <category>random</category>
        
        
      </item>
    
      <item>
        <title>吹响吧！上低音号 第二次定期演奏会</title>
        <description>&lt;p&gt;记得是6月份的时候某一次刷響け！的主页看到了第二次定期演奏会的消息（当然还有秋季剧场版），就打起了去看的主意。那个时候还不知道现在有什么安排，但是担心买的人比较多（网页上说要抽选），就定了。抽到之后才想起来其实买的人可能也不多，抽选可能只是一个幌子；事实上夜场直到11号还有余票。&lt;/p&gt;

&lt;p&gt;想着正好是周末就去大阪同学那玩玩，周日去京都然后坐夜行巴士回东京，计划完美；结果遇上了强台风（躺），还和日本战后最强的台风Vera很相似。周五周六一直在确认京都的天气，很担心台风要是让新干线停运或者延误我可能要提早回东京；到了周日早上综合各方信息还是决定赌一把，看！看完下午再回家！&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-hibike-ensoukai/1-road.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;从地铁站到剧场的小路&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;顶着大雨从东山站走到了ロームシアター京都。时间已经是初秋，之前也下了将近两周的雨，河边的树上也有了一些红叶；如果不下雨加上全红的话肯定很好看。因为急着买新干线的票，买完走到剧场才9点半，但是雨忽大忽小，也没了到处乱逛的心情。正好剧场楼下是一家鸢屋书店+星巴克，就把午饭和剩下的两个多小时打发了。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-hibike-ensoukai/2-board.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;这次京阿尼活动的节目单&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;物贩&quot;&gt;物贩&lt;/h3&gt;

&lt;p&gt;之前已经看到网页上说11点会有纪念品开卖，想着应该和京阿尼的商店差不多有一个区域随便逛的样子；结果10点45的时候走上去发现已经排了将近50人，能买的也只有一本宣传册+三种文件夹，每人还限买两个。宣传册因为里面有一些原画和访谈之类的想着上次在京都已经买过类似的了，就只买了吹响的文件夹；进场之后才发现原来节目单也印在了上面（可恶的资本主义动画公司）。不得不说Fate人气果然高，排到我的时候文件夹已经卖光了，吹响的在我听完出来之后也没了，只剩下可怜的Free……&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-hibike-ensoukai/3-selling.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;买完之后照的，右边的告示牌上写着Fate的已经卖完了&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-hibike-ensoukai/4-file.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/img/in-post/post-hibike-ensoukai/5-file-flipped.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;文件夹正反面&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;演奏会&quot;&gt;演奏会！&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-hibike-ensoukai/6-inside.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;开演前的剧场&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;剧场一共有四层，我在1层的左边中间，感觉位置还不错。进场的时候在放着OST，听到之后瞬间就激动了起来。来听音乐会的人年龄跨度果然很大，从小孩子到老人都有；坐在我左边的是一个体型巨大的宅，右边是两个小朋友。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-hibike-ensoukai/7-list.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;曲目单，来自twitter&lt;a href=&quot;https://twitter.com/Euphonium_JP&quot;&gt;@Euphonium_JP&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;总体来说这次肯定不是一场完美的音乐会，有不少地方出现了（连我都听得出来的）差错；但是实际的演奏还是比CD更有感觉。&lt;/p&gt;

&lt;p&gt;开场并没有要求观众的掌声，红幕一升起就看到了乐团、指挥和唐泽美帆，第二季OPサウンドスケープ。第一感觉是唐泽好高好瘦，然后……果然录音的版本气足一些。唱的时候手部动作非常多，让我觉得台风有点活泼过度了；不过音高还是在的，可能和乐团合唱难度比较大吧。&lt;/p&gt;

&lt;p&gt;唱完之后是四个主役声优出场；和平场一样，只有安济知佳和丽奈一样穿了黑色丝袜。Sapphire酱做的主持（我还奇怪丰田萌绘为什么不让叫みどり），其他三个负责吐槽和搞事情。OP之后的几首一直到学园天国都挺平常，是乐队的主场。曲子细微的部分做了一些改动，总体来说把难度降低了一些。&lt;/p&gt;

&lt;p&gt;中场过后气氛就活跃了不少。宝岛作为站前音乐会的曲目，在演奏的时候墙上的投影幕也播放着（旧内容混剪）的mv。看着画面听着演奏的确感觉好像就站在了站前看着滝先生指挥一样。实际上洗足学园音乐大学的大和田雅洋指挥也是个很萌的人，好像说选定了solo的人之后会很认真的对他/她说拜托了什么的。&lt;/p&gt;

&lt;p&gt;響け!ユーフォニアム和愛を見つけた場所这两首都没乐团什么事，所以请出了久美子的演奏者円能寺博行和香織的演奏者冨岡愛彩美。的确专业人士的演奏水平更高，能听得出来上低音号的声音非常圆润，饱满。可惜的是円能寺老师在響け!ユーフォニアム的最后还是出了一点小错。之后他问在场的观众有多少人是看了动画才知道上低音号的，一半多的人举了手。&lt;/p&gt;

&lt;p&gt;选拔赛的两首一如既往，三日月之舞的时候投影幕又是镜头混剪。其实如果投影整体慢上三秒的话是可以和演奏完美结合的，能看出来只要是演奏的镜头都和实际的动作完全一样。另外香織在solo的时候也出错了…貌似和上次演奏会的错位置差不多，可能临场心理还需要锻炼。演完下来朝井彩加（叶月声优）还唱了一段大号的旋律、丰田萌绘缠着低音提琴手问了一堆问题（人家都不好意思了），还有大和田指挥让上低音号单独吹了最难的那一段（吹得很好）。&lt;/p&gt;

&lt;p&gt;最后加演了響け!ユーフォニアム的吹奏乐版和Dream Solister。坐在旁边的宅男似乎没有音乐会的经验，指挥再走出来的时候非常彷徨。&lt;/p&gt;

&lt;p&gt;整场一共15首，每首都听得比较熟悉了，所以基本上在各种看各个声部的人和独奏的动作什么的，还是非常过瘾的。最后的视频里京阿尼用分声部的形式介绍了北宇治吹奏乐部的所有人（包括指挥），还给每个人加上了名字。总结发言的时候安济知佳问有多少人看了秋季剧场版，可惜还没看不能举手。&lt;/p&gt;

&lt;p&gt;下面是从推特上盗的图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-hibike-ensoukai/8-tuba.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;大号组，来自朝井彩加&lt;a href=&quot;https://twitter.com/a_ayaka0511&quot;&gt;@a_ayaka0511&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-hibike-ensoukai/9-bass.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;低音提琴手和Sapphire，来自丰田萌绘&lt;a href=&quot;https://twitter.com/toyotamoe&quot;&gt;@toyotamoe&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-hibike-ensoukai/10-group.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;合照。前排从左到右为チューバくん、円能寺博行、安济知佳、黑泽朋世、丰田萌绘、朝井彩加和唐泽美帆，来自&lt;a href=&quot;https://twitter.com/anime_eupho&quot;&gt;@anime_eupho&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;有第三次的话，就再去吧！&lt;/p&gt;
</description>
        <pubDate>Sun, 22 Oct 2017 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2017/10/22/hibike-ensoukai/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/10/22/hibike-ensoukai/</guid>
        
        <category>hanging-around</category>
        
        
      </item>
    
  </channel>
</rss>
